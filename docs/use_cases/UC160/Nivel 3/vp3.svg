<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="602px" preserveAspectRatio="none" style="width:1248px;height:602px;background:#FFFFFF;" version="1.1" viewBox="0 0 1248 602" width="1248px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="500.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="41" y="47.6094"/><rect fill="#FFFFFF" height="478.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="258" y="69.9609"/><rect fill="#FFFFFF" height="417.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="571" y="100.3125"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="792" y="130.6641"/><rect fill="#FFFFFF" height="147.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="792" y="312.4219"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="972" y="342.7734"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="972" y="431.4766"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="972" y="489.8281"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1102" y="387.125"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1208" y="268.0703"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="629" x="10" y="159.6641"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="46" x2="46" y1="37.6094" y2="566.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="262.5" x2="262.5" y1="37.6094" y2="566.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="576" x2="576" y1="37.6094" y2="566.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="796.5" x2="796.5" y1="37.6094" y2="566.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="976.5" x2="976.5" y1="37.6094" y2="566.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1106.5" x2="1106.5" y1="37.6094" y2="566.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1212.5" x2="1212.5" y1="37.6094" y2="566.1797"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="27" y="26.5332">Route</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="20" y="565.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="27" y="586.7129">Route</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="202.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="209.5" y="26.5332">EdificioController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="202.5" y="565.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="209.5" y="586.7129">EdificioController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="523" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="530" y="26.5332">EdificioService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="523" y="565.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="530" y="586.7129">EdificioService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="750.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="757.5" y="26.5332">EdificioRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="750.5" y="565.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="757.5" y="586.7129">EdificioRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="923.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="930.5" y="26.5332">EdificioMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="923.5" y="565.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="930.5" y="586.7129">EdificioMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133" x="1040.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1047.5" y="26.5332">EdificioPersistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133" x="1040.5" y="565.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1047.5" y="586.7129">EdificioPersistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="59" x="1183.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="1190.5" y="26.5332">Edificio</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="59" x="1183.5" y="565.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="1190.5" y="586.7129">Edificio</text><rect fill="#FFFFFF" height="500.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="41" y="47.6094"/><rect fill="#FFFFFF" height="478.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="258" y="69.9609"/><rect fill="#FFFFFF" height="417.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="571" y="100.3125"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="792" y="130.6641"/><rect fill="#FFFFFF" height="147.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="792" y="312.4219"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="972" y="342.7734"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="972" y="431.4766"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="972" y="489.8281"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1102" y="387.125"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1208" y="268.0703"/><polygon fill="#181818" points="246,65.9609,256,69.9609,246,73.9609,250,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="51" x2="252" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="58" y="65.1045">/updateEdificio</text><polygon fill="#181818" points="559,96.3125,569,100.3125,559,104.3125,563,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="268" x2="565" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="275" y="95.4561">updateEdificio(IEdificioDTO)</text><polygon fill="#181818" points="780,126.6641,790,130.6641,780,134.6641,784,130.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581" x2="786" y1="130.6641" y2="130.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="588" y="125.8076">findByCodigo(edificioDTO.codigo)</text><polygon fill="#181818" points="592,140.6641,582,144.6641,592,148.6641,588,144.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="586" x2="796" y1="144.6641" y2="144.6641"/><path d="M10,159.6641 L71,159.6641 L71,168.0156 L61,178.0156 L10,178.0156 L10,159.6641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="629" x="10" y="159.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="174.1592">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="108" x="86" y="173.083">[edificio não existe]</text><polygon fill="#181818" points="279,196.3672,269,200.3672,279,204.3672,275,200.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="273" x2="570" y1="200.3672" y2="200.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279" x="285" y="195.5107">Envia erro com a mensagem: Não existe edificio</text><polygon fill="#181818" points="62,226.7188,52,230.7188,62,234.7188,58,230.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56" x2="257" y1="230.7188" y2="230.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="68" y="225.8623">Envia status 404 (NOT FOUND)</text><polygon fill="#181818" points="1196,264.0703,1206,268.0703,1196,272.0703,1200,268.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581" x2="1202" y1="268.0703" y2="268.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="588" y="263.2139">edificio = update(edificioDTO)</text><polygon fill="#181818" points="592,278.0703,582,282.0703,592,286.0703,588,282.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="586" x2="1212" y1="282.0703" y2="282.0703"/><polygon fill="#181818" points="780,308.4219,790,312.4219,780,316.4219,784,312.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581" x2="786" y1="312.4219" y2="312.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="588" y="307.5654">save(edificio)</text><polygon fill="#181818" points="960,338.7734,970,342.7734,960,346.7734,964,342.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="802" x2="966" y1="342.7734" y2="342.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="809" y="337.917">toPersistence(edificio)</text><polygon fill="#181818" points="813,352.7734,803,356.7734,813,360.7734,809,356.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="807" x2="976" y1="356.7734" y2="356.7734"/><polygon fill="#181818" points="1090,383.125,1100,387.125,1090,391.125,1094,387.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="802" x2="1096" y1="387.125" y2="387.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="809" y="382.2686">update(edificioUpdated)</text><polygon fill="#181818" points="813,397.125,803,401.125,813,405.125,809,401.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="807" x2="1106" y1="401.125" y2="401.125"/><polygon fill="#181818" points="960,427.4766,970,431.4766,960,435.4766,964,431.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="802" x2="966" y1="431.4766" y2="431.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="809" y="426.6201">toDomain(edificioUpdated)</text><polygon fill="#181818" points="813,441.4766,803,445.4766,813,449.4766,809,445.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="807" x2="976" y1="445.4766" y2="445.4766"/><polygon fill="#181818" points="592,455.4766,582,459.4766,592,463.4766,588,459.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="586" x2="796" y1="459.4766" y2="459.4766"/><polygon fill="#181818" points="960,485.8281,970,489.8281,960,493.8281,964,489.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581" x2="966" y1="489.8281" y2="489.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="588" y="484.9717">toDTO(edificio)</text><polygon fill="#181818" points="592,499.8281,582,503.8281,592,507.8281,588,503.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="586" x2="976" y1="503.8281" y2="503.8281"/><polygon fill="#181818" points="279,513.8281,269,517.8281,279,521.8281,275,517.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="273" x2="575" y1="517.8281" y2="517.8281"/><polygon fill="#181818" points="57,544.1797,47,548.1797,57,552.1797,53,548.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="262" y1="548.1797" y2="548.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="63" y="543.3232">Envia um código 201 (OK)</text><!--MD5=[737fc950ed4d0cf1952c5b4a4045ad41]
@startuml sd

participant Route as route
participant EdificioController as ctrl
participant EdificioService as svc
participant EdificioRepo as repoEdi
participant EdificioMapper as mapper
participant EdificioPersistence as pers
participant Edificio as model

activate route
route -> ctrl : /updateEdificio
activate ctrl
ctrl -> svc : updateEdificio(IEdificioDTO)
activate svc
svc -> repoEdi : findByCodigo(edificioDTO.codigo)
activate repoEdi
repoEdi - -> svc
deactivate repoEdi
alt edificio não existe
    svc - -> ctrl : Envia erro com a mensagem: Não existe edificio
    ctrl - -> route : Envia status 404 (NOT FOUND)
end
svc -> model : edificio = update(edificioDTO)
activate model
model - -> svc :
deactivate model
svc -> repoEdi : save(edificio)
activate repoEdi
repoEdi -> mapper : toPersistence(edificio)
activate mapper
mapper - -> repoEdi
deactivate mapper
repoEdi -> pers : update(edificioUpdated)
activate pers
pers - -> repoEdi
deactivate pers
repoEdi -> mapper : toDomain(edificioUpdated)
activate mapper
mapper - -> repoEdi
deactivate mapper
repoEdi - -> svc
deactivate repoEdi
svc -> mapper : toDTO(edificio)
activate mapper
mapper - -> svc
deactivate mapper
svc - -> ctrl
deactivate svc
ctrl - -> route : Envia um código 201 (OK)
deactivate ctrl
deactivate route



@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>