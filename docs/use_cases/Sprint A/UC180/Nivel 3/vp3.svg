<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1119px" preserveAspectRatio="none" style="width:1421px;height:1119px;background:#FFFFFF;" version="1.1" viewBox="0 0 1421 1119" width="1421px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1004.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="54.5" y="69.9609"/><rect fill="#FFFFFF" height="1004.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="318.5" y="69.9609"/><rect fill="#FFFFFF" height="1003.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="318.5" y="69.9609"/><rect fill="#FFFFFF" height="795.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="518.5" y="161.0156"/><rect fill="#FFFFFF" height="244.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="689.5" y="613.2891"/><rect fill="#FFFFFF" height="244.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="783.5" y="312.7734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="884.5" y="790.3984"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="884.5" y="888.4531"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="992.5" y="489.8828"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1102" y="704.3438"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1213" y="403.8281"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1339" y="100.3125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1339" y="191.3672"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1339" y="252.0703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1339" y="343.125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1339" y="643.6406"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="329" x="732" y="449.1797"/><rect fill="none" height="354.2188" style="stroke:#000000;stroke-width:1.5;" width="945.5" x="469.5" y="572.5859"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="297" x="647" y="749.6953"/><rect fill="none" height="94.8906" style="stroke:#000000;stroke-width:1.5;" width="370" x="10" y="971.1563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="59" x2="59" y1="37.6094" y2="1083.0469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="318" x2="318" y1="37.6094" y2="1083.0469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="523.5" x2="523.5" y1="37.6094" y2="1083.0469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="694" x2="694" y1="37.6094" y2="1083.0469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="788" x2="788" y1="37.6094" y2="1083.0469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="889" x2="889" y1="37.6094" y2="1083.0469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="997" x2="997" y1="37.6094" y2="1083.0469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1107" x2="1107" y1="37.6094" y2="1083.0469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1218" x2="1218" y1="37.6094" y2="1083.0469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1344" x2="1344" y1="37.6094" y2="1083.0469"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="27" y="26.5332">PisoRoute</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="20" y="1082.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="27" y="1103.5801">PisoRoute</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="267" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="274" y="26.5332">PisoController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="267" y="1082.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="274" y="1103.5801">PisoController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="479.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="486.5" y="26.5332">PisoService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="479.5" y="1082.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="486.5" y="1103.5801">PisoService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="657" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="664" y="26.5332">PisoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="657" y="1082.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="664" y="1103.5801">PisoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="742" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="749" y="26.5332">EdificioRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="742" y="1082.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="749" y="1103.5801">EdificioRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="845" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="852" y="26.5332">PisoMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="845" y="1082.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="852" y="1103.5801">PisoMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="944" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="951" y="26.5332">EdificioMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="944" y="1082.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="951" y="1103.5801">EdificioMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="1061" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1068" y="26.5332">PisoSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="1061" y="1082.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1068" y="1103.5801">PisoSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="1163" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1170" y="26.5332">EdificioSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="1163" y="1082.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1170" y="1103.5801">EdificioSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="1283" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1290" y="26.5332">ConfigurationFile</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="1283" y="1082.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1290" y="1103.5801">ConfigurationFile</text><rect fill="#FFFFFF" height="1004.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="54.5" y="69.9609"/><rect fill="#FFFFFF" height="1004.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="318.5" y="69.9609"/><rect fill="#FFFFFF" height="1003.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="318.5" y="69.9609"/><rect fill="#FFFFFF" height="795.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="518.5" y="161.0156"/><rect fill="#FFFFFF" height="244.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="689.5" y="613.2891"/><rect fill="#FFFFFF" height="244.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="783.5" y="312.7734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="884.5" y="790.3984"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="884.5" y="888.4531"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="992.5" y="489.8828"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1102" y="704.3438"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1213" y="403.8281"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1339" y="100.3125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1339" y="191.3672"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1339" y="252.0703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1339" y="343.125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1339" y="643.6406"/><polygon fill="#181818" points="306.5,65.9609,316.5,69.9609,306.5,73.9609,310.5,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="64.5" x2="312.5" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="71.5" y="65.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="82.5" y="65.1045">listMinMax(req,res,next)</text><polygon fill="#181818" points="1327,96.3125,1337,100.3125,1327,104.3125,1331,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="328.5" x2="1333" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="335.5" y="95.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="346.5" y="95.4561">injeta o serviço do piso</text><polygon fill="#181818" points="339.5,126.6641,329.5,130.6641,339.5,134.6641,335.5,130.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="333.5" x2="1343" y1="130.6641" y2="130.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="345.5" y="125.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="356.5" y="125.8076"> </text><polygon fill="#181818" points="506.5,157.0156,516.5,161.0156,506.5,165.0156,510.5,161.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="328.5" x2="512.5" y1="161.0156" y2="161.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="335.5" y="156.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="346.5" y="156.1592">listMinMax(listMinMaxDTO)</text><polygon fill="#181818" points="1327,187.3672,1337,191.3672,1327,195.3672,1331,191.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="528.5" x2="1333" y1="191.3672" y2="191.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="535.5" y="186.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="546.5" y="186.5107">injeta o repositório do piso</text><polygon fill="#181818" points="539.5,217.7188,529.5,221.7188,539.5,225.7188,535.5,221.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="533.5" x2="1343" y1="221.7188" y2="221.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="545.5" y="216.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="556.5" y="216.8623"> </text><polygon fill="#181818" points="1327,248.0703,1337,252.0703,1327,256.0703,1331,252.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="528.5" x2="1333" y1="252.0703" y2="252.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="535.5" y="247.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="546.5" y="247.2139">injeta o repositório do edificio</text><polygon fill="#181818" points="539.5,278.4219,529.5,282.4219,539.5,286.4219,535.5,282.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="533.5" x2="1343" y1="282.4219" y2="282.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="545.5" y="277.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="556.5" y="277.5654"> </text><polygon fill="#181818" points="771.5,308.7734,781.5,312.7734,771.5,316.7734,775.5,312.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="528.5" x2="777.5" y1="312.7734" y2="312.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="535.5" y="307.917">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="546.5" y="307.917">findAll()</text><polygon fill="#181818" points="1327,339.125,1337,343.125,1327,347.125,1331,343.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="793.5" x2="1333" y1="343.125" y2="343.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="800.5" y="338.2686">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="818.5" y="338.2686">injeta o schema do edificio</text><polygon fill="#181818" points="804.5,369.4766,794.5,373.4766,804.5,377.4766,800.5,373.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="798.5" x2="1343" y1="373.4766" y2="373.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="810.5" y="368.6201">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828.5" y="368.6201"> </text><polygon fill="#181818" points="1201,399.8281,1211,403.8281,1201,407.8281,1205,403.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="793.5" x2="1207" y1="403.8281" y2="403.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="800.5" y="398.9717">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="818.5" y="398.9717">find(query)</text><polygon fill="#181818" points="804.5,430.1797,794.5,434.1797,804.5,438.1797,800.5,434.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="798.5" x2="1217" y1="434.1797" y2="434.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="810.5" y="429.3232">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828.5" y="429.3232"> </text><path d="M732,449.1797 L805,449.1797 L805,457.5313 L795,467.5313 L732,467.5313 L732,449.1797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="329" x="732" y="449.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="747" y="463.6748">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="164" x="820" y="462.5986">[preencher array de edificios]</text><polygon fill="#181818" points="980.5,485.8828,990.5,489.8828,980.5,493.8828,984.5,489.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="793.5" x2="986.5" y1="489.8828" y2="489.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="800.5" y="485.0264">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="818.5" y="485.0264">toDomain(edificioRecord)</text><polygon fill="#181818" points="804.5,516.2344,794.5,520.2344,804.5,524.2344,800.5,520.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="798.5" x2="996.5" y1="520.2344" y2="520.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="810.5" y="515.3779">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828.5" y="515.3779"> </text><polygon fill="#181818" points="539.5,553.5859,529.5,557.5859,539.5,561.5859,535.5,557.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="533.5" x2="787.5" y1="557.5859" y2="557.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="545.5" y="552.7295">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="563.5" y="552.7295"> </text><path d="M469.5,572.5859 L542.5,572.5859 L542.5,580.9375 L532.5,590.9375 L469.5,590.9375 L469.5,572.5859 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="354.2188" style="stroke:#000000;stroke-width:1.5;" width="945.5" x="469.5" y="572.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="484.5" y="587.0811">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="164" x="557.5" y="586.0049">[percorrer todos os edificios]</text><polygon fill="#181818" points="677.5,609.2891,687.5,613.2891,677.5,617.2891,681.5,613.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="528.5" x2="683.5" y1="613.2891" y2="613.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="535.5" y="608.4326">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="553.5" y="608.4326">findByEdificio(codigo)</text><polygon fill="#181818" points="1327,639.6406,1337,643.6406,1327,647.6406,1331,643.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="699.5" x2="1333" y1="643.6406" y2="643.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="706.5" y="638.7842">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="724.5" y="638.7842">injeta o schema do piso</text><polygon fill="#181818" points="710.5,669.9922,700.5,673.9922,710.5,677.9922,706.5,673.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="704.5" x2="1343" y1="673.9922" y2="673.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="716.5" y="669.1357">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="734.5" y="669.1357"> </text><polygon fill="#181818" points="1090,700.3438,1100,704.3438,1090,708.3438,1094,704.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="699.5" x2="1096" y1="704.3438" y2="704.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="706.5" y="699.4873">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="724.5" y="699.4873">find(query)</text><polygon fill="#181818" points="710.5,730.6953,700.5,734.6953,710.5,738.6953,706.5,734.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="704.5" x2="1106" y1="734.6953" y2="734.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="716.5" y="729.8389">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="734.5" y="729.8389"> </text><path d="M647,749.6953 L720,749.6953 L720,758.0469 L710,768.0469 L647,768.0469 L647,749.6953 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="297" x="647" y="749.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="662" y="764.1904">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="148" x="735" y="763.1143">[preencher array de pisos]</text><polygon fill="#181818" points="872.5,786.3984,882.5,790.3984,872.5,794.3984,876.5,790.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="699.5" x2="878.5" y1="790.3984" y2="790.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="706.5" y="785.542">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="724.5" y="785.542">toDomain(pisoRecord)</text><polygon fill="#181818" points="710.5,816.75,700.5,820.75,710.5,824.75,706.5,820.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="704.5" x2="888.5" y1="820.75" y2="820.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="716.5" y="815.8936">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="734.5" y="815.8936"> </text><polygon fill="#181818" points="539.5,854.1016,529.5,858.1016,539.5,862.1016,535.5,858.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="533.5" x2="693.5" y1="858.1016" y2="858.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="545.5" y="853.2451">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="563.5" y="853.2451"> </text><polygon fill="#181818" points="872.5,884.4531,882.5,888.4531,872.5,892.4531,876.5,888.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="528.5" x2="878.5" y1="888.4531" y2="888.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="535.5" y="883.5967">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="553.5" y="883.5967">toDTO(pisoResult)</text><polygon fill="#181818" points="539.5,914.8047,529.5,918.8047,539.5,922.8047,535.5,918.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="533.5" x2="888.5" y1="918.8047" y2="918.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="545.5" y="913.9482">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="563.5" y="913.9482"> </text><polygon fill="#181818" points="339.5,952.1563,329.5,956.1563,339.5,960.1563,335.5,956.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="333.5" x2="522.5" y1="956.1563" y2="956.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="345.5" y="951.2998">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="363.5" y="951.2998"> </text><path d="M10,971.1563 L71,971.1563 L71,979.5078 L61,989.5078 L10,989.5078 L10,971.1563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="94.8906" style="stroke:#000000;stroke-width:1.5;" width="370" x="10" y="971.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="985.6514">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="102" x="86" y="984.5752">[caso de sucesso]</text><polygon fill="#181818" points="75.5,1007.8594,65.5,1011.8594,75.5,1015.8594,71.5,1011.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69.5" x2="317.5" y1="1011.8594" y2="1011.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="81.5" y="1007.0029">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="99.5" y="1007.0029">Envia um código 200 (GET)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="380" y1="1020.8594" y2="1020.8594"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="112" x="15" y="1032.2783">[caso de insucesso]</text><polygon fill="#181818" points="75.5,1054.0469,65.5,1058.0469,75.5,1062.0469,71.5,1058.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69.5" x2="317.5" y1="1058.0469" y2="1058.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="81.5" y="1053.1904">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="99.5" y="1053.1904">Envia um código 404 (NOT FOUND)</text><!--MD5=[0942b9e96a969f35616757c5d873b342]
@startuml sd
autonumber

participant PisoRoute as route
participant PisoController as ctrl
participant PisoService as svc
participant PisoRepo as repo
participant EdificioRepo as erepo
participant PisoMapper as mapper
participant EdificioMapper as emapper
participant PisoSchema as schema
participant EdificioSchema as eschema
participant ConfigurationFile as conf


route -> ctrl++ : listMinMax(req,res,next)
route++
ctrl++
ctrl -> conf : injeta o serviço do piso
conf++
conf - -> ctrl
conf- -
ctrl -> svc : listMinMax(listMinMaxDTO)
svc++
svc -> conf : injeta o repositório do piso
conf++
conf - -> svc
conf- -
svc -> conf : injeta o repositório do edificio
conf++
conf - -> svc
conf- -

svc -> erepo: findAll()
erepo++
erepo -> conf : injeta o schema do edificio
conf++
conf - -> erepo
conf- -
erepo -> eschema : find(query)
eschema++
eschema - -> erepo
eschema- -
loop preencher array de edificios
    erepo -> emapper : toDomain(edificioRecord)
    emapper++
    emapper - -> erepo
    emapper- -
end
emapper- -
erepo - -> svc
erepo- -



loop percorrer todos os edificios
    svc -> repo : findByEdificio(codigo)
    repo++
    repo -> conf : injeta o schema do piso
    conf++
    conf - -> repo
    conf- -
    repo -> schema : find(query)
    schema++


    schema - -> repo
    schema- -
    loop preencher array de pisos
        repo -> mapper : toDomain(pisoRecord)
        mapper++
        mapper - -> repo
        mapper- -
    end
    mapper- -

    repo - -> svc
    repo- -
    svc -> mapper : toDTO(pisoResult)
    mapper++
    mapper - -> svc
    mapper- -
end
svc - -> ctrl
svc- -


alt caso de sucesso
    ctrl - -> route : Envia um código 200 (GET)
else caso de insucesso
    ctrl - -> route : Envia um código 404 (NOT FOUND)
end
ctrl- -

@end

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>