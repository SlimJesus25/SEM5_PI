<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1086px" preserveAspectRatio="none" style="width:1864px;height:1086px;background:#FFFFFF;" version="1.1" viewBox="0 0 1864 1086" width="1864px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="984.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="41" y="47.6094"/><rect fill="#FFFFFF" height="970.7891" style="stroke:#181818;stroke-width:1.0;" width="10" x="287" y="69.9609"/><rect fill="#FFFFFF" height="856.7344" style="stroke:#181818;stroke-width:1.0;" width="10" x="701" y="144.6641"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1142" y="219.3672"/><rect fill="#FFFFFF" height="191.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1142" y="751.6406"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1250.5" y="356.7734"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1344.5" y="494.1797"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1452.5" y="870.6953"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1582" y="826.3438"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1582" y="915.0469"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1582" y="973.3984"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1712" y="100.3125"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1712" y="175.0156"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1712" y="781.9922"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1818" y="707.2891"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="764.5" x="10" y="248.3672"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="764.5" x="10" y="385.7734"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:1.5;" width="385.5" x="637.5" y="523.1797"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="764.5" x="10" y="598.8828"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="46" x2="46" y1="37.6094" y2="1049.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="292" x2="292" y1="37.6094" y2="1049.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="705.5" x2="705.5" y1="37.6094" y2="1049.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1147" x2="1147" y1="37.6094" y2="1049.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1255" x2="1255" y1="37.6094" y2="1049.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1349" x2="1349" y1="37.6094" y2="1049.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1457" x2="1457" y1="37.6094" y2="1049.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1587" x2="1587" y1="37.6094" y2="1049.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1717" x2="1717" y1="37.6094" y2="1049.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1823" x2="1823" y1="37.6094" y2="1049.75"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="27" y="26.5332">Route</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="20" y="1048.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="27" y="1070.2832">Route</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="226" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="233" y="26.5332">ElevadorController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="226" y="1048.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="233" y="1070.2832">ElevadorController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="647.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="654.5" y="26.5332">ElevadorService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="647.5" y="1048.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="654.5" y="1070.2832">ElevadorService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="1095" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="1102" y="26.5332">ElevadorRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="1095" y="1048.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="1102" y="1070.2832">ElevadorRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="1209" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1216" y="26.5332">EdificioRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="1209" y="1048.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1216" y="1070.2832">EdificioRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="1312" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1319" y="26.5332">PisoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="1312" y="1048.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1319" y="1070.2832">PisoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="1397" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1404" y="26.5332">ElevadorSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="1397" y="1048.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1404" y="1070.2832">ElevadorSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="1528" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1535" y="26.5332">ElevadorMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="1528" y="1048.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1535" y="1070.2832">ElevadorMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="1656" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1663" y="26.5332">ConfigurationFile</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="1656" y="1048.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1663" y="1070.2832">ConfigurationFile</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="1788" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1795" y="26.5332">Elevador</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="1788" y="1048.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1795" y="1070.2832">Elevador</text><rect fill="#FFFFFF" height="984.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="41" y="47.6094"/><rect fill="#FFFFFF" height="970.7891" style="stroke:#181818;stroke-width:1.0;" width="10" x="287" y="69.9609"/><rect fill="#FFFFFF" height="856.7344" style="stroke:#181818;stroke-width:1.0;" width="10" x="701" y="144.6641"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1142" y="219.3672"/><rect fill="#FFFFFF" height="191.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1142" y="751.6406"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1250.5" y="356.7734"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1344.5" y="494.1797"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1452.5" y="870.6953"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1582" y="826.3438"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1582" y="915.0469"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1582" y="973.3984"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1712" y="100.3125"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1712" y="175.0156"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1712" y="781.9922"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1818" y="707.2891"/><polygon fill="#181818" points="275,65.9609,285,69.9609,275,73.9609,279,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="51" x2="281" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="58" y="65.1045">/updateElevador</text><polygon fill="#181818" points="1700,96.3125,1710,100.3125,1700,104.3125,1704,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="297" x2="1706" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="304" y="95.4561">injeta o serviço do elevador, edificio e piso</text><polygon fill="#181818" points="308,110.3125,298,114.3125,308,118.3125,304,114.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="302" x2="1716" y1="114.3125" y2="114.3125"/><polygon fill="#181818" points="689,140.6641,699,144.6641,689,148.6641,693,144.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="297" x2="695" y1="144.6641" y2="144.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="304" y="139.8076">updateElevador(elevadorDTO)</text><polygon fill="#181818" points="1700,171.0156,1710,175.0156,1700,179.0156,1704,175.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="711" x2="1706" y1="175.0156" y2="175.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="718" y="170.1592">injeta o repositório do elevador</text><polygon fill="#181818" points="722,185.0156,712,189.0156,722,193.0156,718,189.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="716" x2="1716" y1="189.0156" y2="189.0156"/><polygon fill="#181818" points="1130,215.3672,1140,219.3672,1130,223.3672,1134,219.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="711" x2="1136" y1="219.3672" y2="219.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="412" x="718" y="214.5107">elevador = findByNumeroIdentificativo(elevadorDTO.numeroIdentificativo)</text><polygon fill="#181818" points="722,229.3672,712,233.3672,722,237.3672,718,233.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="716" x2="1146" y1="233.3672" y2="233.3672"/><path d="M10,248.3672 L71,248.3672 L71,256.7188 L61,266.7188 L10,266.7188 L10,248.3672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="764.5" x="10" y="248.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="262.8623">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="116" x="86" y="261.7861">[elevador não existe]</text><polygon fill="#181818" points="308,285.0703,298,289.0703,308,293.0703,304,289.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="302" x2="700" y1="289.0703" y2="289.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="314" y="284.2139">Erro com a mensagem: Elevador não encontrado</text><polygon fill="#181818" points="62,315.4219,52,319.4219,62,323.4219,58,319.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56" x2="286" y1="319.4219" y2="319.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="68" y="314.5654">Envia um status 404 (NOT FOUND)</text><polygon fill="#181818" points="1238.5,352.7734,1248.5,356.7734,1238.5,360.7734,1242.5,356.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="711" x2="1244.5" y1="356.7734" y2="356.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="718" y="351.917">findByCodigo(elevadorDTO.edificio)</text><polygon fill="#181818" points="722,366.7734,712,370.7734,722,374.7734,718,370.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="716" x2="1254.5" y1="370.7734" y2="370.7734"/><path d="M10,385.7734 L71,385.7734 L71,394.125 L61,404.125 L10,404.125 L10,385.7734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="764.5" x="10" y="385.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="400.2686">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="133" x="86" y="399.1924">[novo edificio é inválido]</text><polygon fill="#181818" points="308,422.4766,298,426.4766,308,430.4766,304,426.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="302" x2="700" y1="426.4766" y2="426.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="368" x="314" y="421.6201">Erro com a mensagem: Edifício com o código X não encontrado</text><polygon fill="#181818" points="62,452.8281,52,456.8281,62,460.8281,58,456.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56" x2="286" y1="456.8281" y2="456.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="68" y="451.9717">Envia um stastus 404 (NOT FOUND)</text><polygon fill="#181818" points="1332.5,490.1797,1342.5,494.1797,1332.5,498.1797,1336.5,494.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="711" x2="1338.5" y1="494.1797" y2="494.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="718" y="489.3232">findByEdificio(elevadorDTO.edificio)</text><polygon fill="#181818" points="722,504.1797,712,508.1797,722,512.1797,718,508.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="716" x2="1348.5" y1="508.1797" y2="508.1797"/><path d="M637.5,523.1797 L710.5,523.1797 L710.5,531.5313 L700.5,541.5313 L637.5,541.5313 L637.5,523.1797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:1.5;" width="385.5" x="637.5" y="523.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="652.5" y="537.6748">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="264" x="725.5" y="536.5986">[todos os pisos de elevadorDTO.pisosServidos]</text><line style="stroke:#181818;stroke-width:1.0;" x1="711" x2="753" y1="563.8828" y2="563.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="753" x2="753" y1="563.8828" y2="576.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="712" x2="753" y1="576.8828" y2="576.8828"/><polygon fill="#181818" points="722,572.8828,712,576.8828,722,580.8828,718,576.8828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="293" x="718" y="559.0264">verifica se o piso pertence ao elevadorDTO.edificio.</text><path d="M10,598.8828 L71,598.8828 L71,607.2344 L61,617.2344 L10,617.2344 L10,598.8828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="764.5" x="10" y="598.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="613.3779">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="240" x="86" y="612.3018">[um qualquer piso não pertence ao edificio]</text><polygon fill="#181818" points="308,635.5859,298,639.5859,308,643.5859,304,639.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="302" x2="700" y1="639.5859" y2="639.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="380" x="314" y="634.7295">Envia erro com a mensagem: O piso X não pertence ao edificio Y.</text><polygon fill="#181818" points="62,665.9375,52,669.9375,62,673.9375,58,669.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56" x2="286" y1="669.9375" y2="669.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="68" y="665.0811">Envia um status 404 (NOT FOUND)</text><polygon fill="#181818" points="1806,703.2891,1816,707.2891,1806,711.2891,1810,707.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="711" x2="1812" y1="707.2891" y2="707.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="718" y="702.4326">elevador atualiza os campos</text><polygon fill="#181818" points="722,717.2891,712,721.2891,722,725.2891,718,721.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="716" x2="1822" y1="721.2891" y2="721.2891"/><polygon fill="#181818" points="1130,747.6406,1140,751.6406,1130,755.6406,1134,751.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="711" x2="1136" y1="751.6406" y2="751.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="718" y="746.7842">save(elevador)</text><polygon fill="#181818" points="1700,777.9922,1710,781.9922,1700,785.9922,1704,781.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1152" x2="1706" y1="781.9922" y2="781.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="1159" y="777.1357">injeta o schema do elevador</text><polygon fill="#181818" points="1163,791.9922,1153,795.9922,1163,799.9922,1159,795.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1157" x2="1716" y1="795.9922" y2="795.9922"/><polygon fill="#181818" points="1570,822.3438,1580,826.3438,1570,830.3438,1574,826.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1152" x2="1576" y1="826.3438" y2="826.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="1159" y="821.4873">toPersistence(elevador)</text><polygon fill="#181818" points="1163,836.3438,1153,840.3438,1163,844.3438,1159,840.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1157" x2="1586" y1="840.3438" y2="840.3438"/><polygon fill="#181818" points="1440.5,866.6953,1450.5,870.6953,1440.5,874.6953,1444.5,870.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1152" x2="1446.5" y1="870.6953" y2="870.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="1159" y="865.8389">create(elevadorCreated)</text><polygon fill="#181818" points="1163,880.6953,1153,884.6953,1163,888.6953,1159,884.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1157" x2="1456.5" y1="884.6953" y2="884.6953"/><polygon fill="#181818" points="1570,911.0469,1580,915.0469,1570,919.0469,1574,915.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1152" x2="1576" y1="915.0469" y2="915.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="1159" y="910.1904">toDomain(elevadorCreated)</text><polygon fill="#181818" points="1163,925.0469,1153,929.0469,1163,933.0469,1159,929.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1157" x2="1586" y1="929.0469" y2="929.0469"/><polygon fill="#181818" points="722,939.0469,712,943.0469,722,947.0469,718,943.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="716" x2="1146" y1="943.0469" y2="943.0469"/><polygon fill="#181818" points="1570,969.3984,1580,973.3984,1570,977.3984,1574,973.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="711" x2="1576" y1="973.3984" y2="973.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="718" y="968.542">toDTO(elevador)</text><polygon fill="#181818" points="722,983.3984,712,987.3984,722,991.3984,718,987.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="716" x2="1586" y1="987.3984" y2="987.3984"/><polygon fill="#181818" points="308,997.3984,298,1001.3984,308,1005.3984,304,1001.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="302" x2="705" y1="1001.3984" y2="1001.3984"/><polygon fill="#181818" points="57,1027.75,47,1031.75,57,1035.75,53,1031.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="286" y1="1031.75" y2="1031.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="63" y="1026.8936">Envia status 200 (OK)</text><!--MD5=[24c5afcd39cd0c567abd103ad0e2e89f]
@startuml sd

participant Route as route
participant ElevadorController as ctrl
participant ElevadorService as svc
participant ElevadorRepo as repoEle
participant EdificioRepo as repoEdi
participant PisoRepo as repoPis
participant ElevadorSchema as schema
participant ElevadorMapper as mapper
participant ConfigurationFile as conf
participant Elevador as model

activate route
route -> ctrl : /updateElevador
activate ctrl
ctrl -> conf : injeta o serviço do elevador, edificio e piso
activate conf
conf - -> ctrl
deactivate conf
ctrl -> svc : updateElevador(elevadorDTO)
activate svc
svc -> conf : injeta o repositório do elevador
activate conf
conf - -> svc
deactivate conf
svc -> repoEle : elevador = findByNumeroIdentificativo(elevadorDTO.numeroIdentificativo)
activate repoEle
repoEle - -> svc
deactivate repoEle
alt elevador não existe
    svc - -> ctrl : Erro com a mensagem: Elevador não encontrado
    ctrl - -> route : Envia um status 404 (NOT FOUND)
end
svc -> repoEdi : findByCodigo(elevadorDTO.edificio)
activate repoEdi
repoEdi - -> svc
deactivate repoEdi
alt novo edificio é inválido
    svc - -> ctrl : Erro com a mensagem: Edifício com o código X não encontrado
    ctrl - -> route : Envia um stastus 404 (NOT FOUND)
end
svc -> repoPis : findByEdificio(elevadorDTO.edificio)
activate repoPis
repoPis - -> svc
deactivate repoPis
loop todos os pisos de elevadorDTO.pisosServidos
    svc -> svc : verifica se o piso pertence ao elevadorDTO.edificio.
end
alt um qualquer piso não pertence ao edificio
    svc - -> ctrl : Envia erro com a mensagem: O piso X não pertence ao edificio Y.
    ctrl - -> route : Envia um status 404 (NOT FOUND)
end
svc -> model : elevador atualiza os campos
activate model
model - -> svc
deactivate model
svc -> repoEle : save(elevador)
activate repoEle
repoEle -> conf : injeta o schema do elevador
activate conf
conf - -> repoEle
deactivate conf
repoEle -> mapper : toPersistence(elevador)
activate mapper
mapper - -> repoEle
deactivate mapper
repoEle -> schema : create(elevadorCreated)
activate schema
schema - -> repoEle
deactivate schema
repoEle -> mapper : toDomain(elevadorCreated)
activate mapper
mapper - -> repoEle
deactivate mapper
repoEle - -> svc
deactivate repoEle
svc -> mapper : toDTO(elevador)
activate mapper
mapper - -> svc
deactivate mapper
svc - -> ctrl
deactivate svc
ctrl - -> route : Envia status 200 (OK)
deactivate route




@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>