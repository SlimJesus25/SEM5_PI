<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="830px" preserveAspectRatio="none" style="width:1346px;height:830px;background:#FFFFFF;" version="1.1" viewBox="0 0 1346 830" width="1346px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="714.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="54.5" y="69.9609"/><rect fill="#FFFFFF" height="713.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="295.5" y="69.9609"/><rect fill="#FFFFFF" height="522.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="471.5" y="144.6641"/><rect fill="#FFFFFF" height="179.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="624.5" y="396.7734"/><rect fill="#FFFFFF" height="102.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="718.5" y="263.7188"/><rect fill="#FFFFFF" height="29" style="stroke:#181818;stroke-width:1.0;" width="10" x="819.5" y="541.1797"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="819.5" y="631.8828"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="927.5" y="338.4219"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1037" y="471.4766"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1148" y="294.0703"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1274" y="100.3125"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1274" y="175.0156"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1274" y="219.3672"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1274" y="427.125"/><rect fill="none" height="62.7031" style="stroke:#000000;stroke-width:1.5;" width="297" x="582" y="500.4766"/><rect fill="none" height="62.7031" style="stroke:#000000;stroke-width:1.5;" width="456.5" x="422.5" y="591.1797"/><rect fill="none" height="94.8906" style="stroke:#000000;stroke-width:1.5;" width="352" x="10" y="681.8828"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="59" x2="59" y1="37.6094" y2="793.7734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="300" x2="300" y1="37.6094" y2="793.7734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="476.5" x2="476.5" y1="37.6094" y2="793.7734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="629" x2="629" y1="37.6094" y2="793.7734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="723" x2="723" y1="37.6094" y2="793.7734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="824" x2="824" y1="37.6094" y2="793.7734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="932" x2="932" y1="37.6094" y2="793.7734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1042" x2="1042" y1="37.6094" y2="793.7734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1153" x2="1153" y1="37.6094" y2="793.7734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1279" x2="1279" y1="37.6094" y2="793.7734"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="27" y="26.5332">PisoRoute</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="20" y="792.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="27" y="814.3066">PisoRoute</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="249" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="256" y="26.5332">PisoController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="249" y="792.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="256" y="814.3066">PisoController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="432.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="439.5" y="26.5332">PisoService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="432.5" y="792.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="439.5" y="814.3066">PisoService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="592" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="599" y="26.5332">PisoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="592" y="792.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="599" y="814.3066">PisoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="677" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="684" y="26.5332">EdificioRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="677" y="792.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="684" y="814.3066">EdificioRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="780" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="787" y="26.5332">PisoMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="780" y="792.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="787" y="814.3066">PisoMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="879" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="886" y="26.5332">EdificioMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="879" y="792.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="886" y="814.3066">EdificioMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="996" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1003" y="26.5332">PisoSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="996" y="792.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1003" y="814.3066">PisoSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="1098" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1105" y="26.5332">EdificioSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="1098" y="792.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1105" y="814.3066">EdificioSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="1218" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1225" y="26.5332">ConfigurationFile</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="1218" y="792.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1225" y="814.3066">ConfigurationFile</text><rect fill="#FFFFFF" height="714.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="54.5" y="69.9609"/><rect fill="#FFFFFF" height="713.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="295.5" y="69.9609"/><rect fill="#FFFFFF" height="522.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="471.5" y="144.6641"/><rect fill="#FFFFFF" height="179.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="624.5" y="396.7734"/><rect fill="#FFFFFF" height="102.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="718.5" y="263.7188"/><rect fill="#FFFFFF" height="29" style="stroke:#181818;stroke-width:1.0;" width="10" x="819.5" y="541.1797"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="819.5" y="631.8828"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="927.5" y="338.4219"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1037" y="471.4766"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1148" y="294.0703"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1274" y="100.3125"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1274" y="175.0156"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1274" y="219.3672"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1274" y="427.125"/><polygon fill="#181818" points="283.5,65.9609,293.5,69.9609,283.5,73.9609,287.5,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="64.5" x2="289.5" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="71.5" y="65.1045">listPisos(req,res,next)</text><polygon fill="#181818" points="1262,96.3125,1272,100.3125,1262,104.3125,1266,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="305.5" x2="1268" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="312.5" y="95.4561">injeta o serviço do piso</text><polygon fill="#181818" points="316.5,110.3125,306.5,114.3125,316.5,118.3125,312.5,114.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="310.5" x2="1278" y1="114.3125" y2="114.3125"/><polygon fill="#181818" points="459.5,140.6641,469.5,144.6641,459.5,148.6641,463.5,144.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="305.5" x2="465.5" y1="144.6641" y2="144.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="312.5" y="139.8076">listPisos(listMinMaxDTO)</text><polygon fill="#181818" points="1262,171.0156,1272,175.0156,1262,179.0156,1266,175.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="481.5" x2="1268" y1="175.0156" y2="175.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="488.5" y="170.1592">injeta o repositório do piso</text><polygon fill="#181818" points="492.5,185.0156,482.5,189.0156,492.5,193.0156,488.5,189.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="486.5" x2="1278" y1="189.0156" y2="189.0156"/><polygon fill="#181818" points="1262,215.3672,1272,219.3672,1262,223.3672,1266,219.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="481.5" x2="1268" y1="219.3672" y2="219.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="488.5" y="214.5107">injeta o repositório do edificio</text><polygon fill="#181818" points="492.5,229.3672,482.5,233.3672,492.5,237.3672,488.5,233.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="486.5" x2="1278" y1="233.3672" y2="233.3672"/><polygon fill="#181818" points="706.5,259.7188,716.5,263.7188,706.5,267.7188,710.5,263.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="481.5" x2="712.5" y1="263.7188" y2="263.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="488.5" y="258.8623">findByCodigo(codigoEdificio)</text><polygon fill="#181818" points="1136,290.0703,1146,294.0703,1136,298.0703,1140,294.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="728.5" x2="1142" y1="294.0703" y2="294.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="735.5" y="289.2139">findOne(query)</text><polygon fill="#181818" points="739.5,304.0703,729.5,308.0703,739.5,312.0703,735.5,308.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="733.5" x2="1152" y1="308.0703" y2="308.0703"/><polygon fill="#181818" points="915.5,334.4219,925.5,338.4219,915.5,342.4219,919.5,338.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="728.5" x2="921.5" y1="338.4219" y2="338.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="735.5" y="333.5654">toDomain(edificioRecord)</text><polygon fill="#181818" points="739.5,348.4219,729.5,352.4219,739.5,356.4219,735.5,352.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="733.5" x2="931.5" y1="352.4219" y2="352.4219"/><polygon fill="#181818" points="492.5,362.4219,482.5,366.4219,492.5,370.4219,488.5,366.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="486.5" x2="722.5" y1="366.4219" y2="366.4219"/><polygon fill="#181818" points="612.5,392.7734,622.5,396.7734,612.5,400.7734,616.5,396.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="481.5" x2="618.5" y1="396.7734" y2="396.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="488.5" y="391.917">findByEdificio(codigo)</text><polygon fill="#181818" points="1262,423.125,1272,427.125,1262,431.125,1266,427.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="634.5" x2="1268" y1="427.125" y2="427.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="641.5" y="422.2686">injeta o schema do piso</text><polygon fill="#181818" points="645.5,437.125,635.5,441.125,645.5,445.125,641.5,441.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="639.5" x2="1278" y1="441.125" y2="441.125"/><polygon fill="#181818" points="1025,467.4766,1035,471.4766,1025,475.4766,1029,471.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="634.5" x2="1031" y1="471.4766" y2="471.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="641.5" y="466.6201">find(query)</text><polygon fill="#181818" points="645.5,481.4766,635.5,485.4766,645.5,489.4766,641.5,485.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="639.5" x2="1041" y1="485.4766" y2="485.4766"/><path d="M582,500.4766 L655,500.4766 L655,508.8281 L645,518.8281 L582,518.8281 L582,500.4766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="62.7031" style="stroke:#000000;stroke-width:1.5;" width="297" x="582" y="500.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="597" y="514.9717">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="148" x="670" y="513.8955">[preencher array de pisos]</text><polygon fill="#181818" points="807.5,537.1797,817.5,541.1797,807.5,545.1797,811.5,541.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="634.5" x2="813.5" y1="541.1797" y2="541.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="641.5" y="536.3232">toDomain(pisoRecord)</text><polygon fill="#181818" points="645.5,551.1797,635.5,555.1797,645.5,559.1797,641.5,555.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="639.5" x2="818.5" y1="555.1797" y2="555.1797"/><polygon fill="#181818" points="492.5,572.1797,482.5,576.1797,492.5,580.1797,488.5,576.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="486.5" x2="628.5" y1="576.1797" y2="576.1797"/><path d="M422.5,591.1797 L495.5,591.1797 L495.5,599.5313 L485.5,609.5313 L422.5,609.5313 L422.5,591.1797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="62.7031" style="stroke:#000000;stroke-width:1.5;" width="456.5" x="422.5" y="591.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="437.5" y="605.6748">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="148" x="510.5" y="604.5986">[preencher array de pisos]</text><polygon fill="#181818" points="807.5,627.8828,817.5,631.8828,807.5,635.8828,811.5,631.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="481.5" x2="813.5" y1="631.8828" y2="631.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="488.5" y="627.0264">toDTO(pisoResult)</text><polygon fill="#181818" points="492.5,641.8828,482.5,645.8828,492.5,649.8828,488.5,645.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="486.5" x2="823.5" y1="645.8828" y2="645.8828"/><polygon fill="#181818" points="316.5,662.8828,306.5,666.8828,316.5,670.8828,312.5,666.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="310.5" x2="475.5" y1="666.8828" y2="666.8828"/><path d="M10,681.8828 L71,681.8828 L71,690.2344 L61,700.2344 L10,700.2344 L10,681.8828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="94.8906" style="stroke:#000000;stroke-width:1.5;" width="352" x="10" y="681.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="696.3779">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="102" x="86" y="695.3018">[caso de sucesso]</text><polygon fill="#181818" points="75.5,718.5859,65.5,722.5859,75.5,726.5859,71.5,722.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69.5" x2="294.5" y1="722.5859" y2="722.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="81.5" y="717.7295">Envia um código 200 (GET)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="362" y1="731.5859" y2="731.5859"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="112" x="15" y="743.0049">[caso de insucesso]</text><polygon fill="#181818" points="75.5,764.7734,65.5,768.7734,75.5,772.7734,71.5,768.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69.5" x2="294.5" y1="768.7734" y2="768.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="81.5" y="763.917">Envia um código 404 (NOT FOUND)</text><!--MD5=[b0e0bb78a78cd6b086b9ed4879f7f82b]
@startuml sd


participant PisoRoute as route

participant PisoController as ctrl

participant PisoService as svc

participant PisoRepo as repo
participant EdificioRepo as erepo
participant PisoMapper as mapper
participant EdificioMapper as emapper

participant PisoSchema as schema
participant EdificioSchema as eschema
participant ConfigurationFile as conf


route -> ctrl++ : listPisos(req,res,next)
route++
ctrl -> conf : injeta o serviço do piso
conf++
conf - -> ctrl
conf- -
ctrl -> svc : listPisos(listMinMaxDTO)
svc++
svc -> conf : injeta o repositório do piso
conf++
conf - -> svc
conf- -
svc -> conf : injeta o repositório do edificio
conf++
conf - -> svc
conf- -

svc -> erepo : findByCodigo(codigoEdificio)
erepo++
erepo -> eschema : findOne(query)
eschema++
eschema - -> erepo
eschema- -
erepo -> emapper : toDomain(edificioRecord)
emapper++
emapper - -> erepo
emapper- -
erepo - -> svc
erepo- -




svc -> repo : findByEdificio(codigo)
repo++

repo -> conf : injeta o schema do piso
conf++
conf - -> repo
conf- -
repo -> schema : find(query)
schema++
schema - -> repo
schema- -
loop preencher array de pisos
repo -> mapper : toDomain(pisoRecord)
mapper++
mapper - -> repo
end
mapper- -
repo - -> svc
repo- -
loop preencher array de pisos
svc -> mapper : toDTO(pisoResult)
mapper++
mapper - -> svc
mapper- -
end
svc - -> ctrl
svc- -


alt caso de sucesso
    ctrl - -> route : Envia um código 200 (GET)
else caso de insucesso
    ctrl - -> route : Envia um código 404 (NOT FOUND)
end
ctrl- -
@end

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>