<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="408px" preserveAspectRatio="none" style="width:1258px;height:408px;background:#FFFFFF;" version="1.1" viewBox="0 0 1258 408" width="1258px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="309.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="28" y="46.2969"/><rect fill="#FFFFFF" height="287.9297" style="stroke:#181818;stroke-width:1.0;" width="10" x="352" y="67.4297"/><rect fill="#FFFFFF" height="229.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="601" y="96.5625"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="796" y="168.8281"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="796" y="255.0938"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="914.5" y="125.6953"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1040.5" y="298.2266"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1183.5" y="211.9609"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="33" x2="33" y1="36.2969" y2="373.3594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="356.5" x2="356.5" y1="36.2969" y2="373.3594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="606" x2="606" y1="36.2969" y2="373.3594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="800.5" x2="800.5" y1="36.2969" y2="373.3594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="919.5" x2="919.5" y1="36.2969" y2="373.3594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1045.5" x2="1045.5" y1="36.2969" y2="373.3594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1188.5" x2="1188.5" y1="36.2969" y2="373.3594"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="12" y="24.9951">Route</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="5" y="372.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="12" y="392.3545">Route</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153" x="280.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="287.5" y="24.9951">AprovacaoController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153" x="280.5" y="372.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="287.5" y="392.3545">AprovacaoController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="538" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="545" y="24.9951">AprovacaoService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="538" y="372.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="545" y="392.3545">AprovacaoService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="739.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="746.5" y="24.9951">AprovacaoRepo</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="739.5" y="372.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="746.5" y="392.3545">AprovacaoRepo</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94" x="872.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="879.5" y="24.9951">TarefaRepo</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94" x="872.5" y="372.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="879.5" y="392.3545">TarefaRepo</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138" x="976.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="983.5" y="24.9951">AprovacaoMapper</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138" x="976.5" y="372.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="983.5" y="392.3545">AprovacaoMapper</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="1124.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1131.5" y="24.9951">AprovacaoModel</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="1124.5" y="372.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1131.5" y="392.3545">AprovacaoModel</text><rect fill="#FFFFFF" height="309.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="28" y="46.2969"/><rect fill="#FFFFFF" height="287.9297" style="stroke:#181818;stroke-width:1.0;" width="10" x="352" y="67.4297"/><rect fill="#FFFFFF" height="229.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="601" y="96.5625"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="796" y="168.8281"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="796" y="255.0938"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="914.5" y="125.6953"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1040.5" y="298.2266"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1183.5" y="211.9609"/><polygon fill="#181818" points="340,63.4297,350,67.4297,340,71.4297,344,67.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="38" x2="346" y1="67.4297" y2="67.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="45" y="62.3638">/recusarRequisicao</text><polygon fill="#181818" points="589,92.5625,599,96.5625,589,100.5625,593,96.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="362" x2="595" y1="96.5625" y2="96.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="369" y="91.4966">recusarRequisicao(aprovacaoDTO)</text><polygon fill="#181818" points="902.5,121.6953,912.5,125.6953,902.5,129.6953,906.5,125.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="611" x2="908.5" y1="125.6953" y2="125.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="618" y="120.6294">findByDesignacao(tarefa)</text><polygon fill="#181818" points="622,135.6953,612,139.6953,622,143.6953,618,139.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="616" x2="918.5" y1="139.6953" y2="139.6953"/><polygon fill="#181818" points="784,164.8281,794,168.8281,784,172.8281,788,168.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="611" x2="790" y1="168.8281" y2="168.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="618" y="163.7622">findByTarefaName(tarefa)</text><polygon fill="#181818" points="622,178.8281,612,182.8281,622,186.8281,618,182.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="616" x2="800" y1="182.8281" y2="182.8281"/><polygon fill="#181818" points="1171.5,207.9609,1181.5,211.9609,1171.5,215.9609,1175.5,211.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="611" x2="1177.5" y1="211.9609" y2="211.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="618" y="206.895">recusa()</text><polygon fill="#181818" points="622,221.9609,612,225.9609,622,229.9609,618,225.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="616" x2="1187.5" y1="225.9609" y2="225.9609"/><polygon fill="#181818" points="784,251.0938,794,255.0938,784,259.0938,788,255.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="611" x2="790" y1="255.0938" y2="255.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="618" y="250.0278">save(newAprovacao)</text><polygon fill="#181818" points="622,265.0938,612,269.0938,622,273.0938,618,269.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="616" x2="800" y1="269.0938" y2="269.0938"/><polygon fill="#181818" points="1028.5,294.2266,1038.5,298.2266,1028.5,302.2266,1032.5,298.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="611" x2="1034.5" y1="298.2266" y2="298.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="618" y="293.1606">toDTO(newAprovacao)</text><polygon fill="#181818" points="622,308.2266,612,312.2266,622,316.2266,618,312.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="616" x2="1044.5" y1="312.2266" y2="312.2266"/><polygon fill="#181818" points="373,322.2266,363,326.2266,373,330.2266,369,326.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="367" x2="605" y1="326.2266" y2="326.2266"/><polygon fill="#181818" points="44,351.3594,34,355.3594,44,359.3594,40,355.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38" x2="356" y1="355.3594" y2="355.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="290" x="50" y="350.2935">Envia um código 201 (OK) / 403 (FORBIDDEN)</text><!--MD5=[2161fcdd34b4476e5314941bf632b218]
@startuml sd

participant Route as route
participant AprovacaoController as ctrl
participant AprovacaoService as svc
participant AprovacaoRepo as repoApr
participant TarefaRepo as repoTar
participant AprovacaoMapper as mapper
participant AprovacaoModel as model

activate route
route -> ctrl : /recusarRequisicao
activate ctrl
ctrl -> svc : recusarRequisicao(aprovacaoDTO)
activate svc
svc -> repoTar : findByDesignacao(tarefa)
activate repoTar
repoTar - -> svc
deactivate repoTar
svc -> repoApr : findByTarefaName(tarefa)
activate repoApr
repoApr - -> svc
deactivate repoApr
svc -> model : recusa()
activate model
model - -> svc
deactivate model
svc -> repoApr : save(newAprovacao)
activate repoApr
repoApr - -> svc
deactivate repoApr
svc -> mapper : toDTO(newAprovacao)
activate mapper
mapper - -> svc
deactivate mapper
svc - -> ctrl
deactivate svc
ctrl - -> route : Envia um código 201 (OK) / 403 (FORBIDDEN)
deactivate ctrl
deactivate route



@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>