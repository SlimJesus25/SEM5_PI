<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="376px" preserveAspectRatio="none" style="width:1057px;height:376px;background:#FFFFFF;" version="1.1" viewBox="0 0 1057 376" width="1057px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="274.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="26" y="47.6094"/><rect fill="#FFFFFF" height="252.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="332" y="69.9609"/><rect fill="#FFFFFF" height="191.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="530" y="100.3125"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="782" y="130.6641"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="782" y="263.7188"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="898" y="219.3672"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="997.5" y="175.0156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="31" x2="31" y1="37.6094" y2="340.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="337" x2="337" y1="37.6094" y2="340.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="534.5" x2="534.5" y1="37.6094" y2="340.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="787" x2="787" y1="37.6094" y2="340.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="903" x2="903" y1="37.6094" y2="340.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1002" x2="1002" y1="37.6094" y2="340.0703"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="12" y="26.5332">Route</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="5" y="339.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="12" y="360.6035">Route</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="265" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="272" y="26.5332">AprovacaoController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="265" y="339.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="272" y="360.6035">AprovacaoController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="470.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="477.5" y="26.5332">AprovacaoService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="470.5" y="339.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="477.5" y="360.6035">AprovacaoService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="729" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="736" y="26.5332">AprovacaoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="729" y="339.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="736" y="360.6035">AprovacaoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="862" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="869" y="26.5332">Aprovacao</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="862" y="339.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="869" y="360.6035">Aprovacao</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="954" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="961" y="26.5332">Planeamento</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="954" y="339.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="961" y="360.6035">Planeamento</text><rect fill="#FFFFFF" height="274.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="26" y="47.6094"/><rect fill="#FFFFFF" height="252.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="332" y="69.9609"/><rect fill="#FFFFFF" height="191.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="530" y="100.3125"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="782" y="130.6641"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="782" y="263.7188"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="898" y="219.3672"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="997.5" y="175.0156"/><polygon fill="#181818" points="320,65.9609,330,69.9609,320,73.9609,324,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="36" x2="326" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="43" y="65.1045">/sequenciaTarefasAprovadas</text><polygon fill="#181818" points="518,96.3125,528,100.3125,518,104.3125,522,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="342" x2="524" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="349" y="95.4561">sequenciaTarefasAprovadas()</text><polygon fill="#181818" points="770,126.6641,780,130.6641,770,134.6641,774,130.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="540" x2="776" y1="130.6641" y2="130.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="547" y="125.8076">pesquisaAprovacoesPorEstado(aceite)</text><polygon fill="#181818" points="551,140.6641,541,144.6641,551,148.6641,547,144.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="545" x2="786" y1="144.6641" y2="144.6641"/><polygon fill="#181818" points="985.5,171.0156,995.5,175.0156,985.5,179.0156,989.5,175.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="540" x2="991.5" y1="175.0156" y2="175.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="547" y="170.1592">/best_task_order</text><polygon fill="#181818" points="551,185.0156,541,189.0156,551,193.0156,547,189.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="545" x2="1001.5" y1="189.0156" y2="189.0156"/><polygon fill="#181818" points="886,215.3672,896,219.3672,886,223.3672,890,219.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="540" x2="892" y1="219.3672" y2="219.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="339" x="547" y="214.5107">transita os estados das tarefas planeadas para 'executado'</text><polygon fill="#181818" points="551,229.3672,541,233.3672,551,237.3672,547,233.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="545" x2="902" y1="233.3672" y2="233.3672"/><polygon fill="#181818" points="770,259.7188,780,263.7188,770,267.7188,774,263.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="540" x2="776" y1="263.7188" y2="263.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="547" y="258.8623">persiste as atualizações do estado</text><polygon fill="#181818" points="551,273.7188,541,277.7188,551,281.7188,547,277.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="545" x2="786" y1="277.7188" y2="277.7188"/><polygon fill="#181818" points="353,287.7188,343,291.7188,353,295.7188,349,291.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="347" x2="534" y1="291.7188" y2="291.7188"/><polygon fill="#181818" points="42,318.0703,32,322.0703,42,326.0703,38,322.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="36" x2="336" y1="322.0703" y2="322.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="48" y="317.2139">Envia um estado 201 (OK) / 404 (NOT FOUND)</text><!--MD5=[a23bf53df6de659ce80978ca439d5305]
@startuml vp3

participant Route as route
participant AprovacaoController as ctrl
participant AprovacaoService as svc
participant AprovacaoRepo as repo
participant Aprovacao as model
participant Planeamento as plan

activate route
route -> ctrl : /sequenciaTarefasAprovadas
activate ctrl
ctrl -> svc : sequenciaTarefasAprovadas()
activate svc
svc -> repo : pesquisaAprovacoesPorEstado(aceite)
activate repo
repo - -> svc
deactivate repo
svc -> plan : /best_task_order
activate plan
plan - -> svc
deactivate plan
svc -> model : transita os estados das tarefas planeadas para 'executado'
activate model
model - -> svc
deactivate model
svc -> repo : persiste as atualizações do estado
activate repo
repo - -> svc
deactivate repo
svc - -> ctrl
deactivate svc
ctrl - -> route : Envia um estado 201 (OK) / 404 (NOT FOUND)
deactivate ctrl
deactivate route



@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>