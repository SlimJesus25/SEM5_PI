<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="655px" preserveAspectRatio="none" style="width:1843px;height:655px;background:#FFFFFF;" version="1.1" viewBox="0 0 1843 655" width="1843px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="553.625" style="stroke:#181818;stroke-width:1.0;" width="10" x="41" y="47.6094"/><rect fill="#FFFFFF" height="531.2734" style="stroke:#181818;stroke-width:1.0;" width="10" x="383" y="69.9609"/><rect fill="#FFFFFF" height="426.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="926" y="144.6641"/><rect fill="#FFFFFF" height="58.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1280" y="405.4766"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1635" y="435.8281"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1771.5" y="100.3125"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1771.5" y="175.0156"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="994.5" x="10" y="204.0156"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="994.5" x="10" y="297.0703"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="994.5" x="10" y="478.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="46" x2="46" y1="37.6094" y2="619.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="388" x2="388" y1="37.6094" y2="619.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="930.5" x2="930.5" y1="37.6094" y2="619.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1285" x2="1285" y1="37.6094" y2="619.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1416" x2="1416" y1="37.6094" y2="619.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1639.5" x2="1639.5" y1="37.6094" y2="619.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1776.5" x2="1776.5" y1="37.6094" y2="619.2344"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="27" y="26.5332">Route</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="20" y="618.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="27" y="639.7676">Route</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="317" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="324" y="26.5332">PassagemController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="317" y="618.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="324" y="639.7676">PassagemController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="867.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="874.5" y="26.5332">PassagemService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="867.5" y="618.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="874.5" y="639.7676">PassagemService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="1228" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1235" y="26.5332">PassagemRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="1228" y="618.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1235" y="639.7676">PassagemRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="1352" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1359" y="26.5332">PassagemMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="1352" y="618.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1359" y="639.7676">PassagemMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="1574.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="1581.5" y="26.5332">PassagemSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="1574.5" y="618.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="1581.5" y="639.7676">PassagemSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="1715.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1722.5" y="26.5332">ConfigurationFile</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="1715.5" y="618.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1722.5" y="639.7676">ConfigurationFile</text><rect fill="#FFFFFF" height="553.625" style="stroke:#181818;stroke-width:1.0;" width="10" x="41" y="47.6094"/><rect fill="#FFFFFF" height="531.2734" style="stroke:#181818;stroke-width:1.0;" width="10" x="383" y="69.9609"/><rect fill="#FFFFFF" height="426.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="926" y="144.6641"/><rect fill="#FFFFFF" height="58.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1280" y="405.4766"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1635" y="435.8281"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1771.5" y="100.3125"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1771.5" y="175.0156"/><polygon fill="#181818" points="371,65.9609,381,69.9609,371,73.9609,375,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="51" x2="377" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="58" y="65.1045">/listPassagens</text><polygon fill="#181818" points="1759.5,96.3125,1769.5,100.3125,1759.5,104.3125,1763.5,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="393" x2="1765.5" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="400" y="95.4561">injeta o serviço da Passagem</text><polygon fill="#181818" points="404,110.3125,394,114.3125,404,118.3125,400,114.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="398" x2="1775.5" y1="114.3125" y2="114.3125"/><polygon fill="#181818" points="914,140.6641,924,144.6641,914,148.6641,918,144.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="393" x2="920" y1="144.6641" y2="144.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="400" y="139.8076">listPassagens(edificios)</text><polygon fill="#181818" points="1759.5,171.0156,1769.5,175.0156,1759.5,179.0156,1763.5,175.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="936" x2="1765.5" y1="175.0156" y2="175.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="943" y="170.1592">injeta o repositório do sala</text><polygon fill="#181818" points="947,185.0156,937,189.0156,947,193.0156,943,189.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="941" x2="1775.5" y1="189.0156" y2="189.0156"/><path d="M10,204.0156 L71,204.0156 L71,212.3672 L61,222.3672 L10,222.3672 L10,204.0156 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="994.5" x="10" y="204.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="218.5107">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="131" x="86" y="217.4346">[os edificios são iguais]</text><polygon fill="#181818" points="404,240.7188,394,244.7188,404,248.7188,400,244.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="398" x2="925" y1="244.7188" y2="244.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="458" x="410" y="239.8623">Retorna erro com a mensagem: Não existem passagens para o próprio edifício.</text><polygon fill="#181818" points="62,271.0703,52,275.0703,62,279.0703,58,275.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56" x2="382" y1="275.0703" y2="275.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="68" y="270.2139">Envia status 404 NOT FOUND</text><path d="M10,297.0703 L71,297.0703 L71,305.4219 L61,315.4219 L10,315.4219 L10,297.0703 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="994.5" x="10" y="297.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="311.5654">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="181" x="86" y="310.4893">[o(s) edificio(s) é/são inválido(s)]</text><polygon fill="#181818" points="404,333.7734,394,337.7734,404,341.7734,400,337.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="398" x2="925" y1="337.7734" y2="337.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="410" y="332.917">Retorna erro com a mensagem: O código X é inválido.</text><polygon fill="#181818" points="62,364.125,52,368.125,62,372.125,58,368.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56" x2="382" y1="368.125" y2="368.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="68" y="363.2686">Envia status 404 NOT FOUND</text><polygon fill="#181818" points="1268,401.4766,1278,405.4766,1268,409.4766,1272,405.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="936" x2="1274" y1="405.4766" y2="405.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="943" y="400.6201">passagens = listPassagensBetween(edificioA, edificioB)</text><polygon fill="#181818" points="1623,431.8281,1633,435.8281,1623,439.8281,1627,435.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1290" x2="1629" y1="435.8281" y2="435.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326" x="1297" y="430.9717">listPassagensBetween(codigoEdificioA, codigoEdificioB)</text><polygon fill="#181818" points="1301,445.8281,1291,449.8281,1301,453.8281,1297,449.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1295" x2="1639" y1="449.8281" y2="449.8281"/><polygon fill="#181818" points="947,459.8281,937,463.8281,947,467.8281,943,463.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="941" x2="1284" y1="463.8281" y2="463.8281"/><path d="M10,478.8281 L71,478.8281 L71,487.1797 L61,497.1797 L10,497.1797 L10,478.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="994.5" x="10" y="478.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="493.3232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="240" x="86" y="492.2471">[não existem passagens entre os edificios]</text><polygon fill="#181818" points="404,515.5313,394,519.5313,404,523.5313,400,519.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="398" x2="925" y1="519.5313" y2="519.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="509" x="410" y="514.6748">Retorna erro com a mensagem: Não existem passagens entre o edifício X e o edifício Y.</text><polygon fill="#181818" points="62,545.8828,52,549.8828,62,553.8828,58,549.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56" x2="382" y1="549.8828" y2="549.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="68" y="545.0264">Envia status 404 NOT FOUND</text><polygon fill="#181818" points="404,566.8828,394,570.8828,404,574.8828,400,570.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="398" x2="930" y1="570.8828" y2="570.8828"/><polygon fill="#181818" points="57,597.2344,47,601.2344,57,605.2344,53,601.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="387" y1="601.2344" y2="601.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="63" y="596.3779">Envia um status 200 OK com o json da lista de pisos</text><!--MD5=[740a8ea34afbd61cb1d61e7a77c76479]
@startuml sd

participant Route as route
participant PassagemController as ctrl
participant PassagemService as svc
participant PassagemRepo as repo
participant PassagemMapper as mapper
participant PassagemSchema as schema
participant ConfigurationFile as conf

activate route
route -> ctrl : /listPassagens
activate ctrl
ctrl -> conf : injeta o serviço da Passagem
activate conf
conf - -> ctrl
deactivate conf
ctrl -> svc : listPassagens(edificios)
activate svc
svc -> conf : injeta o repositório do sala
activate conf
conf - -> svc
deactivate conf
alt os edificios são iguais
    svc - -> ctrl : Retorna erro com a mensagem: Não existem passagens para o próprio edifício.
    ctrl - -> route : Envia status 404 NOT FOUND
end
alt o(s) edificio(s) é/são inválido(s)
    svc - -> ctrl : Retorna erro com a mensagem: O código X é inválido.
    ctrl - -> route : Envia status 404 NOT FOUND
end
svc -> repo : passagens = listPassagensBetween(edificioA, edificioB)
activate repo
repo -> schema : listPassagensBetween(codigoEdificioA, codigoEdificioB)
activate schema
schema - -> repo
deactivate schema
repo - -> svc
deactivate repo
alt não existem passagens entre os edificios
    svc - -> ctrl : Retorna erro com a mensagem: Não existem passagens entre o edifício X e o edifício Y.
    ctrl - -> route : Envia status 404 NOT FOUND
end
svc - -> ctrl
deactivate svc
ctrl - -> route : Envia um status 200 OK com o json da lista de pisos
deactivate ctrl
deactivate route

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>