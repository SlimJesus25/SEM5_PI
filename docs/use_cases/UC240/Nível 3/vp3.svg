<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2291px" preserveAspectRatio="none" style="width:3574px;height:2291px;background:#FFFFFF;" version="1.1" viewBox="0 0 3574 2291" width="3574px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="2175.8984" style="stroke:#181818;stroke-width:1.0;" width="10" x="59" y="69.9609"/><rect fill="#FFFFFF" height="2175.8984" style="stroke:#181818;stroke-width:1.0;" width="10" x="258" y="69.9609"/><rect fill="#FFFFFF" height="2130.5469" style="stroke:#181818;stroke-width:1.0;" width="10" x="499" y="100.3125"/><rect fill="#FFFFFF" height="1924.9531" style="stroke:#181818;stroke-width:1.0;" width="10" x="720" y="175.0156"/><rect fill="#FFFFFF" height="1880.6016" style="stroke:#181818;stroke-width:1.0;" width="10" x="910" y="205.3672"/><rect fill="#FFFFFF" height="235.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1117" y="368.7734"/><rect fill="#FFFFFF" height="372.6484" style="stroke:#181818;stroke-width:1.0;" width="10" x="1117" y="1654.9688"/><rect fill="#FFFFFF" height="191.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1324" y="399.125"/><rect fill="#FFFFFF" height="328.2969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1324" y="1685.3203"/><rect fill="#FFFFFF" height="235.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1465" y="665.2344"/><rect fill="#FFFFFF" height="191.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1465" y="931.3438"/><rect fill="#FFFFFF" height="191.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1659" y="695.5859"/><rect fill="#FFFFFF" height="147.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1659" y="961.6953"/><rect fill="#FFFFFF" height="235.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1780.5" y="1153.1016"/><rect fill="#FFFFFF" height="191.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1780.5" y="1419.2109"/><rect fill="#FFFFFF" height="191.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1989.5" y="1183.4531"/><rect fill="#FFFFFF" height="147.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1989.5" y="1449.5625"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2101" y="562.5313"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2101" y="1829.7266"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2101" y="1962.7813"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2101" y="2057.9688"/><rect fill="#FFFFFF" height="58.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2279.5" y="473.8281"/><rect fill="#FFFFFF" height="216.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="2279.5" y="1715.6719"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2459.5" y="504.1797"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2459.5" y="1746.0234"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2459.5" y="1904.4297"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2588.5" y="858.9922"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2588.5" y="1080.75"/><rect fill="#FFFFFF" height="58.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2746" y="770.2891"/><rect fill="#FFFFFF" height="58.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2746" y="992.0469"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2905" y="800.6406"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2905" y="1022.3984"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3014.5" y="1346.8594"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3014.5" y="1568.6172"/><rect fill="#FFFFFF" height="58.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="3154" y="1258.1563"/><rect fill="#FFFFFF" height="58.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="3154" y="1479.9141"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3295" y="1288.5078"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3295" y="1510.2656"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3412" y="130.6641"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3412" y="235.7188"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3412" y="280.0703"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3412" y="324.4219"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3412" y="429.4766"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3412" y="725.9375"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3412" y="1213.8047"/><rect fill="#FFFFFF" height="989.7344" style="stroke:#181818;stroke-width:1.0;" width="10" x="3523" y="634.8828"/><rect fill="none" height="211.5938" style="stroke:#000000;stroke-width:1.5;" width="1278" x="1262" y="1789.0234"/><rect fill="none" height="94.8906" style="stroke:#000000;stroke-width:1.5;" width="430.5" x="154.5" y="2128.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="64" x2="64" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="262.5" x2="262.5" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="504" x2="504" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="725" x2="725" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="914.5" x2="914.5" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1121.5" x2="1121.5" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1329" x2="1329" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1470" x2="1470" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1663.5" x2="1663.5" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1785.5" x2="1785.5" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1994" x2="1994" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2106" x2="2106" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2284" x2="2284" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2464" x2="2464" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2593" x2="2593" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2751" x2="2751" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2910" x2="2910" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3019" x2="3019" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3159" x2="3159" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3300" x2="3300" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3417" x2="3417" y1="37.6094" y2="2254.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3528" x2="3528" y1="37.6094" y2="2254.8594"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="12" y="26.5332">PassagemRoute</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="5" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="12" y="2275.3926">PassagemRoute</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197" x="164.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="171.5" y="26.5332">InterfacePassagemController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197" x="164.5" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="171.5" y="2275.3926">InterfacePassagemController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="433" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="440" y="26.5332">PassagemController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="433" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="440" y="2275.3926">PassagemController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182" x="634" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="641" y="26.5332">InterfacePassagemService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182" x="634" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="641" y="2275.3926">InterfacePassagemService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="851.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="858.5" y="26.5332">PassagemService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="851.5" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="858.5" y="2275.3926">PassagemService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="1037.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="1044.5" y="26.5332">InterfacePassagemRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="1037.5" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="1044.5" y="2275.3926">InterfacePassagemRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="1272" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1279" y="26.5332">PassagemRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="1272" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1279" y="2275.3926">PassagemRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148" x="1396" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="1403" y="26.5332">InterfaceEdificioRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148" x="1396" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="1403" y="2275.3926">InterfaceEdificioRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="1617.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1624.5" y="26.5332">EdificioRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="1617.5" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1624.5" y="2275.3926">EdificioRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="1720.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1727.5" y="26.5332">InterfacePisoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="1720.5" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1727.5" y="2275.3926">InterfacePisoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="1957" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1964" y="26.5332">PisoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="1957" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1964" y="2275.3926">PisoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="2042" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="2049" y="26.5332">PassagemMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="2042" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="2049" y="2275.3926">PassagemMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="209" x="2180" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="2187" y="26.5332">InterfacePassagemPersistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="209" x="2180" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="2187" y="2275.3926">InterfacePassagemPersistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="2399" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="2406" y="26.5332">PassagemSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="2399" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="2406" y="2275.3926">PassagemSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="2540" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="2547" y="26.5332">EdificioMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="2540" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="2547" y="2275.3926">EdificioMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="188" x="2657" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="2664" y="26.5332">InterfaceEdificioPersistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="188" x="2657" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="2664" y="2275.3926">InterfaceEdificioPersistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="2855" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="2862" y="26.5332">EdificioSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="2855" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="2862" y="2275.3926">EdificioSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="2975" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="2982" y="26.5332">PisoMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="2975" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="2982" y="2275.3926">PisoMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="3074" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="3081" y="26.5332">InterfacePisoPersistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="3074" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="3081" y="2275.3926">InterfacePisoPersistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="3254" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="3261" y="26.5332">PisoSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="3254" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="3261" y="2275.3926">PisoSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="3356" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="3363" y="26.5332">ConfigurationFile</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="3356" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="3363" y="2275.3926">ConfigurationFile</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="3488" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="3495" y="26.5332">Passagem</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="3488" y="2253.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="3495" y="2275.3926">Passagem</text><rect fill="#FFFFFF" height="2175.8984" style="stroke:#181818;stroke-width:1.0;" width="10" x="59" y="69.9609"/><rect fill="#FFFFFF" height="2175.8984" style="stroke:#181818;stroke-width:1.0;" width="10" x="258" y="69.9609"/><rect fill="#FFFFFF" height="2130.5469" style="stroke:#181818;stroke-width:1.0;" width="10" x="499" y="100.3125"/><rect fill="#FFFFFF" height="1924.9531" style="stroke:#181818;stroke-width:1.0;" width="10" x="720" y="175.0156"/><rect fill="#FFFFFF" height="1880.6016" style="stroke:#181818;stroke-width:1.0;" width="10" x="910" y="205.3672"/><rect fill="#FFFFFF" height="235.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1117" y="368.7734"/><rect fill="#FFFFFF" height="372.6484" style="stroke:#181818;stroke-width:1.0;" width="10" x="1117" y="1654.9688"/><rect fill="#FFFFFF" height="191.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1324" y="399.125"/><rect fill="#FFFFFF" height="328.2969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1324" y="1685.3203"/><rect fill="#FFFFFF" height="235.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1465" y="665.2344"/><rect fill="#FFFFFF" height="191.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1465" y="931.3438"/><rect fill="#FFFFFF" height="191.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1659" y="695.5859"/><rect fill="#FFFFFF" height="147.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1659" y="961.6953"/><rect fill="#FFFFFF" height="235.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1780.5" y="1153.1016"/><rect fill="#FFFFFF" height="191.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1780.5" y="1419.2109"/><rect fill="#FFFFFF" height="191.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1989.5" y="1183.4531"/><rect fill="#FFFFFF" height="147.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1989.5" y="1449.5625"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2101" y="562.5313"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2101" y="1829.7266"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2101" y="1962.7813"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2101" y="2057.9688"/><rect fill="#FFFFFF" height="58.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2279.5" y="473.8281"/><rect fill="#FFFFFF" height="216.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="2279.5" y="1715.6719"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2459.5" y="504.1797"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2459.5" y="1746.0234"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2459.5" y="1904.4297"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2588.5" y="858.9922"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2588.5" y="1080.75"/><rect fill="#FFFFFF" height="58.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2746" y="770.2891"/><rect fill="#FFFFFF" height="58.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2746" y="992.0469"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2905" y="800.6406"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2905" y="1022.3984"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3014.5" y="1346.8594"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3014.5" y="1568.6172"/><rect fill="#FFFFFF" height="58.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="3154" y="1258.1563"/><rect fill="#FFFFFF" height="58.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="3154" y="1479.9141"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3295" y="1288.5078"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3295" y="1510.2656"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3412" y="130.6641"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3412" y="235.7188"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3412" y="280.0703"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3412" y="324.4219"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3412" y="429.4766"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3412" y="725.9375"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="3412" y="1213.8047"/><rect fill="#FFFFFF" height="989.7344" style="stroke:#181818;stroke-width:1.0;" width="10" x="3523" y="634.8828"/><polygon fill="#181818" points="246,65.9609,256,69.9609,246,73.9609,250,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="69" x2="252" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="76" y="65.1045">createPassagem(req,res,next)</text><polygon fill="#181818" points="487,96.3125,497,100.3125,487,104.3125,491,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="268" x2="493" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="275" y="95.4561">createPassagem(req,res,next)</text><polygon fill="#181818" points="3400,126.6641,3410,130.6641,3400,134.6641,3404,130.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="509" x2="3406" y1="130.6641" y2="130.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="516" y="125.8076">injeta o serviço da passagem</text><polygon fill="#181818" points="520,140.6641,510,144.6641,520,148.6641,516,144.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="514" x2="3416" y1="144.6641" y2="144.6641"/><polygon fill="#181818" points="708,171.0156,718,175.0156,708,179.0156,712,175.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="509" x2="714" y1="175.0156" y2="175.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="516" y="170.1592">createPassagem(passagemDTO)</text><polygon fill="#181818" points="898,201.3672,908,205.3672,898,209.3672,902,205.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="730" x2="904" y1="205.3672" y2="205.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="737" y="200.5107">createPassagem(IPisoDTO)</text><polygon fill="#181818" points="3400,231.7188,3410,235.7188,3400,239.7188,3404,235.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="920" x2="3406" y1="235.7188" y2="235.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="927" y="230.8623">injeta o repositório da passagem</text><polygon fill="#181818" points="931,245.7188,921,249.7188,931,253.7188,927,249.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="925" x2="3416" y1="249.7188" y2="249.7188"/><polygon fill="#181818" points="3400,276.0703,3410,280.0703,3400,284.0703,3404,280.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="920" x2="3406" y1="280.0703" y2="280.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="927" y="275.2139">injeta o repositório do edificio</text><polygon fill="#181818" points="931,290.0703,921,294.0703,931,298.0703,927,294.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="925" x2="3416" y1="294.0703" y2="294.0703"/><polygon fill="#181818" points="3400,320.4219,3410,324.4219,3400,328.4219,3404,324.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="920" x2="3406" y1="324.4219" y2="324.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="927" y="319.5654">injeta o repositório do piso</text><polygon fill="#181818" points="931,334.4219,921,338.4219,931,342.4219,927,338.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="925" x2="3416" y1="338.4219" y2="338.4219"/><polygon fill="#181818" points="1105,364.7734,1115,368.7734,1105,372.7734,1109,368.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="920" x2="1111" y1="368.7734" y2="368.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="927" y="363.917">findByDesignacao(designacao)</text><polygon fill="#181818" points="1312,395.125,1322,399.125,1312,403.125,1316,399.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1127" x2="1318" y1="399.125" y2="399.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="1134" y="394.2686">findByDesignacao(designacao)</text><polygon fill="#181818" points="3400,425.4766,3410,429.4766,3400,433.4766,3404,429.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="3406" y1="429.4766" y2="429.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="1341" y="424.6201">injeta o schema das passagens</text><polygon fill="#181818" points="1345,439.4766,1335,443.4766,1345,447.4766,1341,443.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1339" x2="3416" y1="443.4766" y2="443.4766"/><polygon fill="#181818" points="2267.5,469.8281,2277.5,473.8281,2267.5,477.8281,2271.5,473.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="2273.5" y1="473.8281" y2="473.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="1341" y="468.9717">findOne(query)</text><polygon fill="#181818" points="2447.5,500.1797,2457.5,504.1797,2447.5,508.1797,2451.5,504.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2289.5" x2="2453.5" y1="504.1797" y2="504.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="2296.5" y="499.3232">findOne(query)</text><polygon fill="#181818" points="2300.5,514.1797,2290.5,518.1797,2300.5,522.1797,2296.5,518.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2294.5" x2="2463.5" y1="518.1797" y2="518.1797"/><polygon fill="#181818" points="1345,528.1797,1335,532.1797,1345,536.1797,1341,532.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1339" x2="2283.5" y1="532.1797" y2="532.1797"/><polygon fill="#181818" points="2089,558.5313,2099,562.5313,2089,566.5313,2093,562.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="2095" y1="562.5313" y2="562.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="1341" y="557.6748">toDomain(passagemRecord)</text><polygon fill="#181818" points="1345,572.5313,1335,576.5313,1345,580.5313,1341,576.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1339" x2="2105" y1="576.5313" y2="576.5313"/><polygon fill="#181818" points="1138,586.5313,1128,590.5313,1138,594.5313,1134,590.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1132" x2="1328" y1="590.5313" y2="590.5313"/><polygon fill="#181818" points="931,600.5313,921,604.5313,931,608.5313,927,604.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="925" x2="1121" y1="604.5313" y2="604.5313"/><polygon fill="#181818" points="3511,630.8828,3521,634.8828,3511,638.8828,3515,634.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="920" x2="3517" y1="634.8828" y2="634.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="927" y="630.0264">create()</text><polygon fill="#181818" points="1453,661.2344,1463,665.2344,1453,669.2344,1457,665.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="920" x2="1459" y1="665.2344" y2="665.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="927" y="660.3779">findByCodigo(edificioOrigem)</text><polygon fill="#181818" points="1647,691.5859,1657,695.5859,1647,699.5859,1651,695.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1475" x2="1653" y1="695.5859" y2="695.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="1482" y="690.7295">findByCodigo(edificoOrigem)</text><polygon fill="#181818" points="3400,721.9375,3410,725.9375,3400,729.9375,3404,725.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1669" x2="3406" y1="725.9375" y2="725.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="1676" y="721.0811">injeta o schema dos edificios</text><polygon fill="#181818" points="1680,735.9375,1670,739.9375,1680,743.9375,1676,739.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1674" x2="3416" y1="739.9375" y2="739.9375"/><polygon fill="#181818" points="2734,766.2891,2744,770.2891,2734,774.2891,2738,770.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1669" x2="2740" y1="770.2891" y2="770.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="1676" y="765.4326">findOne(query)</text><polygon fill="#181818" points="2893,796.6406,2903,800.6406,2893,804.6406,2897,800.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2756" x2="2899" y1="800.6406" y2="800.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="2763" y="795.7842">findOne(query)</text><polygon fill="#181818" points="2767,810.6406,2757,814.6406,2767,818.6406,2763,814.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2761" x2="2909" y1="814.6406" y2="814.6406"/><polygon fill="#181818" points="1680,824.6406,1670,828.6406,1680,832.6406,1676,828.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1674" x2="2750" y1="828.6406" y2="828.6406"/><polygon fill="#181818" points="2576.5,854.9922,2586.5,858.9922,2576.5,862.9922,2580.5,858.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1669" x2="2582.5" y1="858.9922" y2="858.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="1676" y="854.1357">toDomain(edificioRecord)</text><polygon fill="#181818" points="1680,868.9922,1670,872.9922,1680,876.9922,1676,872.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1674" x2="2592.5" y1="872.9922" y2="872.9922"/><polygon fill="#181818" points="1486,882.9922,1476,886.9922,1486,890.9922,1482,886.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1480" x2="1663" y1="886.9922" y2="886.9922"/><polygon fill="#181818" points="931,896.9922,921,900.9922,931,904.9922,927,900.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="925" x2="1469" y1="900.9922" y2="900.9922"/><polygon fill="#181818" points="1453,927.3438,1463,931.3438,1453,935.3438,1457,931.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="920" x2="1459" y1="931.3438" y2="931.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="927" y="926.4873">findByCodigo(edificioDestino)</text><polygon fill="#181818" points="1647,957.6953,1657,961.6953,1647,965.6953,1651,961.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1475" x2="1653" y1="961.6953" y2="961.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="1482" y="956.8389">findByCodigo(edificoDestino)</text><polygon fill="#181818" points="2734,988.0469,2744,992.0469,2734,996.0469,2738,992.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1669" x2="2740" y1="992.0469" y2="992.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="1676" y="987.1904">findOne(query)</text><polygon fill="#181818" points="2893,1018.3984,2903,1022.3984,2893,1026.3984,2897,1022.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2756" x2="2899" y1="1022.3984" y2="1022.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="2763" y="1017.542">findOne(query)</text><polygon fill="#181818" points="2767,1032.3984,2757,1036.3984,2767,1040.3984,2763,1036.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2761" x2="2909" y1="1036.3984" y2="1036.3984"/><polygon fill="#181818" points="1680,1046.3984,1670,1050.3984,1680,1054.3984,1676,1050.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1674" x2="2750" y1="1050.3984" y2="1050.3984"/><polygon fill="#181818" points="2576.5,1076.75,2586.5,1080.75,2576.5,1084.75,2580.5,1080.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1669" x2="2582.5" y1="1080.75" y2="1080.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="1676" y="1075.8936">toDomain(edificioRecord)</text><polygon fill="#181818" points="1680,1090.75,1670,1094.75,1680,1098.75,1676,1094.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1674" x2="2592.5" y1="1094.75" y2="1094.75"/><polygon fill="#181818" points="1486,1104.75,1476,1108.75,1486,1112.75,1482,1108.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1480" x2="1663" y1="1108.75" y2="1108.75"/><polygon fill="#181818" points="931,1118.75,921,1122.75,931,1126.75,927,1122.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="925" x2="1469" y1="1122.75" y2="1122.75"/><polygon fill="#181818" points="1768.5,1149.1016,1778.5,1153.1016,1768.5,1157.1016,1772.5,1153.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="920" x2="1774.5" y1="1153.1016" y2="1153.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="927" y="1148.2451">findByDesignacao(pisoOrigem)</text><polygon fill="#181818" points="1977.5,1179.4531,1987.5,1183.4531,1977.5,1187.4531,1981.5,1183.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1790.5" x2="1983.5" y1="1183.4531" y2="1183.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="1797.5" y="1178.5967">findByDesignacao(pisoOrigem)</text><polygon fill="#181818" points="3400,1209.8047,3410,1213.8047,3400,1217.8047,3404,1213.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1999.5" x2="3406" y1="1213.8047" y2="1213.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="2006.5" y="1208.9482">injeta o schema dos pisos</text><polygon fill="#181818" points="2010.5,1223.8047,2000.5,1227.8047,2010.5,1231.8047,2006.5,1227.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2004.5" x2="3416" y1="1227.8047" y2="1227.8047"/><polygon fill="#181818" points="3142,1254.1563,3152,1258.1563,3142,1262.1563,3146,1258.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1999.5" x2="3148" y1="1258.1563" y2="1258.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="2006.5" y="1253.2998">findOne(query)</text><polygon fill="#181818" points="3283,1284.5078,3293,1288.5078,3283,1292.5078,3287,1288.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="3164" x2="3289" y1="1288.5078" y2="1288.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="3171" y="1283.6514">findOne(query)</text><polygon fill="#181818" points="3175,1298.5078,3165,1302.5078,3175,1306.5078,3171,1302.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3169" x2="3299" y1="1302.5078" y2="1302.5078"/><polygon fill="#181818" points="2010.5,1312.5078,2000.5,1316.5078,2010.5,1320.5078,2006.5,1316.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2004.5" x2="3158" y1="1316.5078" y2="1316.5078"/><polygon fill="#181818" points="3002.5,1342.8594,3012.5,1346.8594,3002.5,1350.8594,3006.5,1346.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1999.5" x2="3008.5" y1="1346.8594" y2="1346.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="2006.5" y="1342.0029">toDomain(pisoRecord)</text><polygon fill="#181818" points="2010.5,1356.8594,2000.5,1360.8594,2010.5,1364.8594,2006.5,1360.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2004.5" x2="3018.5" y1="1360.8594" y2="1360.8594"/><polygon fill="#181818" points="1801.5,1370.8594,1791.5,1374.8594,1801.5,1378.8594,1797.5,1374.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1795.5" x2="1993.5" y1="1374.8594" y2="1374.8594"/><polygon fill="#181818" points="931,1384.8594,921,1388.8594,931,1392.8594,927,1388.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="925" x2="1784.5" y1="1388.8594" y2="1388.8594"/><polygon fill="#181818" points="1768.5,1415.2109,1778.5,1419.2109,1768.5,1423.2109,1772.5,1419.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="920" x2="1774.5" y1="1419.2109" y2="1419.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="927" y="1414.3545">findByDesignacao(pisoDestino)</text><polygon fill="#181818" points="1977.5,1445.5625,1987.5,1449.5625,1977.5,1453.5625,1981.5,1449.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1790.5" x2="1983.5" y1="1449.5625" y2="1449.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="1797.5" y="1444.7061">findByDesignacao(pisoDestino)</text><polygon fill="#181818" points="3142,1475.9141,3152,1479.9141,3142,1483.9141,3146,1479.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1999.5" x2="3148" y1="1479.9141" y2="1479.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="2006.5" y="1475.0576">findOne(query)</text><polygon fill="#181818" points="3283,1506.2656,3293,1510.2656,3283,1514.2656,3287,1510.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="3164" x2="3289" y1="1510.2656" y2="1510.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="3171" y="1505.4092">findOne(query)</text><polygon fill="#181818" points="3175,1520.2656,3165,1524.2656,3175,1528.2656,3171,1524.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3169" x2="3299" y1="1524.2656" y2="1524.2656"/><polygon fill="#181818" points="2010.5,1534.2656,2000.5,1538.2656,2010.5,1542.2656,2006.5,1538.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2004.5" x2="3158" y1="1538.2656" y2="1538.2656"/><polygon fill="#181818" points="3002.5,1564.6172,3012.5,1568.6172,3002.5,1572.6172,3006.5,1568.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1999.5" x2="3008.5" y1="1568.6172" y2="1568.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="2006.5" y="1563.7607">toDomain(pisoRecord)</text><polygon fill="#181818" points="2010.5,1578.6172,2000.5,1582.6172,2010.5,1586.6172,2006.5,1582.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2004.5" x2="3018.5" y1="1582.6172" y2="1582.6172"/><polygon fill="#181818" points="1801.5,1592.6172,1791.5,1596.6172,1801.5,1600.6172,1797.5,1596.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1795.5" x2="1993.5" y1="1596.6172" y2="1596.6172"/><polygon fill="#181818" points="931,1606.6172,921,1610.6172,931,1614.6172,927,1610.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="925" x2="1784.5" y1="1610.6172" y2="1610.6172"/><polygon fill="#181818" points="931,1620.6172,921,1624.6172,931,1628.6172,927,1624.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="925" x2="3527" y1="1624.6172" y2="1624.6172"/><polygon fill="#181818" points="1105,1650.9688,1115,1654.9688,1105,1658.9688,1109,1654.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="920" x2="1111" y1="1654.9688" y2="1654.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="927" y="1650.1123">save(passagem)</text><polygon fill="#181818" points="1312,1681.3203,1322,1685.3203,1312,1689.3203,1316,1685.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1127" x2="1318" y1="1685.3203" y2="1685.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="1134" y="1680.4639">save(passagem)</text><polygon fill="#181818" points="2267.5,1711.6719,2277.5,1715.6719,2267.5,1719.6719,2271.5,1715.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="2273.5" y1="1715.6719" y2="1715.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="1341" y="1710.8154">findOne(query)</text><polygon fill="#181818" points="2447.5,1742.0234,2457.5,1746.0234,2447.5,1750.0234,2451.5,1746.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2289.5" x2="2453.5" y1="1746.0234" y2="1746.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="2296.5" y="1741.167">findOne(query)</text><polygon fill="#181818" points="2300.5,1756.0234,2290.5,1760.0234,2300.5,1764.0234,2296.5,1760.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2294.5" x2="2463.5" y1="1760.0234" y2="1760.0234"/><polygon fill="#181818" points="1345,1770.0234,1335,1774.0234,1345,1778.0234,1341,1774.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1339" x2="2278.5" y1="1774.0234" y2="1774.0234"/><path d="M1262,1789.0234 L1323,1789.0234 L1323,1797.375 L1313,1807.375 L1262,1807.375 L1262,1789.0234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="211.5938" style="stroke:#000000;stroke-width:1.5;" width="1278" x="1262" y="1789.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="1277" y="1803.5186">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="89" x="1338" y="1802.4424">[cria passagem]</text><polygon fill="#181818" points="2089,1825.7266,2099,1829.7266,2089,1833.7266,2093,1829.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="2095" y1="1829.7266" y2="1829.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="1341" y="1824.8701">toPersistence(passagem)</text><polygon fill="#181818" points="1345,1839.7266,1335,1843.7266,1345,1847.7266,1341,1843.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1339" x2="2105" y1="1843.7266" y2="1843.7266"/><polygon fill="#181818" points="2267.5,1870.0781,2277.5,1874.0781,2267.5,1878.0781,2271.5,1874.0781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="2273.5" y1="1874.0781" y2="1874.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="1341" y="1869.2217">create(rawPassagem)</text><polygon fill="#181818" points="2447.5,1900.4297,2457.5,1904.4297,2447.5,1908.4297,2451.5,1904.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2289.5" x2="2453.5" y1="1904.4297" y2="1904.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="2296.5" y="1899.5732">create(rawPassagem)</text><polygon fill="#181818" points="2300.5,1914.4297,2290.5,1918.4297,2300.5,1922.4297,2296.5,1918.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2294.5" x2="2463.5" y1="1918.4297" y2="1918.4297"/><polygon fill="#181818" points="1345,1928.4297,1335,1932.4297,1345,1936.4297,1341,1932.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1339" x2="2283.5" y1="1932.4297" y2="1932.4297"/><polygon fill="#181818" points="2089,1958.7813,2099,1962.7813,2089,1966.7813,2093,1962.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="2095" y1="1962.7813" y2="1962.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="1341" y="1957.9248">toDomain(passagemCreated)</text><polygon fill="#181818" points="1345,1972.7813,1335,1976.7813,1345,1980.7813,1341,1976.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1339" x2="2105" y1="1976.7813" y2="1976.7813"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1262" x2="2540" y1="1985.7813" y2="1985.7813"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="110" x="1267" y="1997.2002">[atualiza passagem]</text><polygon fill="#181818" points="1138,2009.6172,1128,2013.6172,1138,2017.6172,1134,2013.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1132" x2="1328" y1="2013.6172" y2="2013.6172"/><polygon fill="#181818" points="931,2023.6172,921,2027.6172,931,2031.6172,927,2027.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="925" x2="1121" y1="2027.6172" y2="2027.6172"/><polygon fill="#181818" points="2089,2053.9688,2099,2057.9688,2089,2061.9688,2093,2057.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="920" x2="2095" y1="2057.9688" y2="2057.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="927" y="2053.1123">toDTO(passagemResult)</text><polygon fill="#181818" points="931,2067.9688,921,2071.9688,931,2075.9688,927,2071.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="925" x2="2105" y1="2071.9688" y2="2071.9688"/><polygon fill="#181818" points="741,2081.9688,731,2085.9688,741,2089.9688,737,2085.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="735" x2="914" y1="2085.9688" y2="2085.9688"/><polygon fill="#181818" points="520,2095.9688,510,2099.9688,520,2103.9688,516,2099.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="514" x2="724" y1="2099.9688" y2="2099.9688"/><polygon fill="#181818" points="279,2109.9688,269,2113.9688,279,2117.9688,275,2113.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="273" x2="498" y1="2113.9688" y2="2113.9688"/><path d="M154.5,2128.9688 L215.5,2128.9688 L215.5,2137.3203 L205.5,2147.3203 L154.5,2147.3203 L154.5,2128.9688 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="94.8906" style="stroke:#000000;stroke-width:1.5;" width="430.5" x="154.5" y="2128.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="169.5" y="2143.4639">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="102" x="230.5" y="2142.3877">[caso de sucesso]</text><polygon fill="#181818" points="279,2165.6719,269,2169.6719,279,2173.6719,275,2169.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="273" x2="498" y1="2169.6719" y2="2169.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="285" y="2164.8154">Envia um código 201 (POST)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="154.5" x2="585" y1="2178.6719" y2="2178.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="112" x="159.5" y="2190.0908">[caso de insucesso]</text><polygon fill="#181818" points="279,2211.8594,269,2215.8594,279,2219.8594,275,2215.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="273" x2="498" y1="2215.8594" y2="2215.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="285" y="2211.0029">Envia um código 403 (NOT FOUND)</text><polygon fill="#181818" points="80,2232.8594,70,2236.8594,80,2240.8594,76,2236.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="74" x2="257" y1="2236.8594" y2="2236.8594"/><!--MD5=[0f71ec7bb8f17930370427ecf5fb6dea]
@startuml sd


participant PassagemRoute as route
participant InterfacePassagemController as ictrl
participant PassagemController as ctrl
participant InterfacePassagemService as isvc
participant PassagemService as svc
participant InterfacePassagemRepo as irepo
participant PassagemRepo as repo
participant InterfaceEdificioRepo as ierepo
participant EdificioRepo as erepo
participant InterfacePisoRepo as iprepo
participant PisoRepo as prepo
participant PassagemMapper as mapper
participant InterfacePassagemPersistence as ischema
participant PassagemSchema as schema
participant EdificioMapper as emapper
participant InterfaceEdificioPersistence as ieschema
participant EdificioSchema as eschema
participant PisoMapper as pmapper
participant InterfacePisoPersistence as ipschema
participant PisoSchema as pschema
participant ConfigurationFile as conf
participant Passagem as model


route -> ictrl++ : createPassagem(req,res,next)
route++
ictrl -> ctrl : createPassagem(req,res,next)
ctrl++
ctrl -> conf : injeta o serviço da passagem
conf++
conf - -> ctrl
conf- -
ctrl -> isvc : createPassagem(passagemDTO)
isvc++
isvc -> svc : createPassagem(IPisoDTO)
svc++
svc -> conf : injeta o repositório da passagem
conf++
conf - -> svc
conf- -
svc -> conf : injeta o repositório do edificio
conf++
conf - -> svc
conf- -
svc -> conf : injeta o repositório do piso
conf++
conf - -> svc
conf- -
svc -> irepo : findByDesignacao(designacao)
irepo++
irepo -> repo : findByDesignacao(designacao)
repo++
repo -> conf : injeta o schema das passagens
conf++
conf - -> repo
conf- -
repo -> ischema : findOne(query)
ischema++
ischema -> schema : findOne(query)
schema++
schema - -> ischema
schema- -
ischema - -> repo
ischema- -
repo -> mapper : toDomain(passagemRecord)
mapper++
mapper - -> repo
mapper- -
repo- -> irepo
repo- -
irepo - -> svc
irepo- -
svc -> model : create()
model++

svc -> ierepo : findByCodigo(edificioOrigem)
ierepo++
ierepo -> erepo : findByCodigo(edificoOrigem)
erepo++
erepo -> conf : injeta o schema dos edificios
conf++
conf - -> erepo
conf- -
erepo -> ieschema : findOne(query)
ieschema++
ieschema -> eschema : findOne(query)
eschema++
eschema - -> ieschema
eschema- -
ieschema - -> erepo
ieschema- -
erepo -> emapper : toDomain(edificioRecord)
emapper++
emapper - -> erepo
emapper- -
erepo- -> ierepo
erepo- -
ierepo - -> svc
ierepo- -

svc -> ierepo : findByCodigo(edificioDestino)
ierepo++
ierepo -> erepo : findByCodigo(edificoDestino)
erepo++
erepo -> ieschema : findOne(query)
ieschema++
ieschema -> eschema : findOne(query)
eschema++
eschema - -> ieschema
eschema- -
ieschema - -> erepo
ieschema- -
erepo -> emapper : toDomain(edificioRecord)
emapper++
emapper - -> erepo
emapper- -
erepo- -> ierepo
erepo- -
ierepo - -> svc
ierepo- -

svc -> iprepo : findByDesignacao(pisoOrigem)
iprepo++
iprepo -> prepo : findByDesignacao(pisoOrigem)
prepo++
prepo -> conf : injeta o schema dos pisos
conf++
conf - -> prepo
conf- -
prepo -> ipschema : findOne(query)
ipschema++
ipschema -> pschema : findOne(query)
pschema++
pschema - -> ipschema
pschema- -
ipschema - -> prepo
ipschema- -
prepo -> pmapper : toDomain(pisoRecord)
pmapper++
pmapper - -> prepo
pmapper- -
prepo- -> iprepo
prepo- -
iprepo - -> svc
iprepo- -

svc -> iprepo : findByDesignacao(pisoDestino)
iprepo++
iprepo -> prepo : findByDesignacao(pisoDestino)
prepo++
prepo -> ipschema : findOne(query)
ipschema++
ipschema -> pschema : findOne(query)
pschema++
pschema - -> ipschema
pschema- -
ipschema - -> prepo
ipschema- -
prepo -> pmapper : toDomain(pisoRecord)
pmapper++
pmapper - -> prepo
pmapper- -
prepo- -> iprepo
prepo- -
iprepo - -> svc
iprepo- -

model - -> svc
model- -
svc -> irepo: save(passagem)
irepo++
irepo -> repo :save(passagem)
repo++
repo -> ischema : findOne(query)
ischema++
ischema -> schema : findOne(query)
schema++
schema - -> ischema
schema- -
ischema - -> repo
alt cria passagem
repo -> mapper : toPersistence(passagem)
mapper++
mapper - -> repo
mapper- -
repo -> ischema : create(rawPassagem)
ischema -> schema : create(rawPassagem)
schema++
schema - -> ischema
schema- -
ischema - -> repo
ischema- -
repo -> mapper : toDomain(passagemCreated)
mapper++
mapper - -> repo
mapper- -
else atualiza passagem
end
repo - -> irepo
repo- -
irepo - -> svc
irepo- -
svc -> mapper : toDTO(passagemResult)
mapper++
mapper - -> svc
mapper- -
svc - -> isvc 
svc- -
isvc - -> ctrl
isvc- -
ctrl - -> ictrl
alt caso de sucesso
    ctrl - -> ictrl : Envia um código 201 (POST)
else caso de insucesso
    ctrl - -> ictrl : Envia um código 403 (NOT FOUND)
end
ctrl- -
ictrl - -> route
@end

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>