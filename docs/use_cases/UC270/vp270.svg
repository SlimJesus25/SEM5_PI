<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1136px" preserveAspectRatio="none" style="width:1838px;height:1136px;background:#FFFFFF;" version="1.1" viewBox="0 0 1838 1136" width="1838px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1042.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="41" y="47.6094"/><rect fill="#FFFFFF" height="1019.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="282" y="69.9609"/><rect fill="#FFFFFF" height="828.3828" style="stroke:#181818;stroke-width:1.0;" width="10" x="738" y="144.6641"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1116" y="219.3672"/><rect fill="#FFFFFF" height="191.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1116" y="723.2891"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1224.5" y="326.4219"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1318.5" y="433.4766"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1425" y="797.9922"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1425" y="886.6953"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1425" y="945.0469"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1554.5" y="842.3438"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1686" y="100.3125"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1686" y="175.0156"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1686" y="753.6406"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1792" y="678.9375"/><rect fill="none" height="48.7031" style="stroke:#000000;stroke-width:1.5;" width="600.5" x="211" y="248.3672"/><rect fill="none" height="48.7031" style="stroke:#000000;stroke-width:1.5;" width="600.5" x="211" y="355.4219"/><rect fill="none" height="48.7031" style="stroke:#000000;stroke-width:1.5;" width="600.5" x="211" y="462.4766"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:1.5;" width="385.5" x="674.5" y="525.1797"/><rect fill="none" height="48.7031" style="stroke:#000000;stroke-width:1.5;" width="600.5" x="211" y="600.8828"/><rect fill="none" height="94.8906" style="stroke:#000000;stroke-width:1.5;" width="353" x="10" y="988.0469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="46" x2="46" y1="37.6094" y2="1099.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="287" x2="287" y1="37.6094" y2="1099.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="742.5" x2="742.5" y1="37.6094" y2="1099.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1121" x2="1121" y1="37.6094" y2="1099.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1229" x2="1229" y1="37.6094" y2="1099.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1323" x2="1323" y1="37.6094" y2="1099.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1430" x2="1430" y1="37.6094" y2="1099.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1559" x2="1559" y1="37.6094" y2="1099.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1691" x2="1691" y1="37.6094" y2="1099.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1797" x2="1797" y1="37.6094" y2="1099.9375"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="27" y="26.5332">Route</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="20" y="1098.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="27" y="1120.4707">Route</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="221" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="228" y="26.5332">ElevadorController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="221" y="1098.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="228" y="1120.4707">ElevadorController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="684.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="691.5" y="26.5332">ElevadorService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="684.5" y="1098.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="691.5" y="1120.4707">ElevadorService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="1069" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="1076" y="26.5332">ElevadorRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="1069" y="1098.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="1076" y="1120.4707">ElevadorRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="1183" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1190" y="26.5332">EdificioRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="1183" y="1098.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1190" y="1120.4707">EdificioRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="1286" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1293" y="26.5332">PisoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="1286" y="1098.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1293" y="1120.4707">PisoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="1371" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1378" y="26.5332">ElevadorMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="1371" y="1098.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1378" y="1120.4707">ElevadorMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="1499" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1506" y="26.5332">ElevadorSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="1499" y="1098.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1506" y="1120.4707">ElevadorSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="1630" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1637" y="26.5332">ConfigurationFile</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="1630" y="1098.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1637" y="1120.4707">ConfigurationFile</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="1762" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1769" y="26.5332">Elevador</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="1762" y="1098.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1769" y="1120.4707">Elevador</text><rect fill="#FFFFFF" height="1042.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="41" y="47.6094"/><rect fill="#FFFFFF" height="1019.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="282" y="69.9609"/><rect fill="#FFFFFF" height="828.3828" style="stroke:#181818;stroke-width:1.0;" width="10" x="738" y="144.6641"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1116" y="219.3672"/><rect fill="#FFFFFF" height="191.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1116" y="723.2891"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1224.5" y="326.4219"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1318.5" y="433.4766"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1425" y="797.9922"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1425" y="886.6953"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1425" y="945.0469"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1554.5" y="842.3438"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1686" y="100.3125"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1686" y="175.0156"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1686" y="753.6406"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1792" y="678.9375"/><polygon fill="#181818" points="270,65.9609,280,69.9609,270,73.9609,274,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="51" x2="276" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="58" y="65.1045">/createElevador</text><polygon fill="#181818" points="1674,96.3125,1684,100.3125,1674,104.3125,1678,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="292" x2="1680" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="299" y="95.4561">injeta o serviço do elevador</text><polygon fill="#181818" points="303,110.3125,293,114.3125,303,118.3125,299,114.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="297" x2="1690" y1="114.3125" y2="114.3125"/><polygon fill="#181818" points="726,140.6641,736,144.6641,726,148.6641,730,144.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="292" x2="732" y1="144.6641" y2="144.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="299" y="139.8076">createElevador(IElevadorDTO)</text><polygon fill="#181818" points="1674,171.0156,1684,175.0156,1674,179.0156,1678,175.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="748" x2="1680" y1="175.0156" y2="175.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="755" y="170.1592">injeta o repositório do elevador</text><polygon fill="#181818" points="759,185.0156,749,189.0156,759,193.0156,755,189.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="753" x2="1690" y1="189.0156" y2="189.0156"/><polygon fill="#181818" points="1104,215.3672,1114,219.3672,1104,223.3672,1108,219.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="748" x2="1110" y1="219.3672" y2="219.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="349" x="755" y="214.5107">findByNumeroIdentificativo(elevadorDTO.numeroIdentificativo)</text><polygon fill="#181818" points="759,229.3672,749,233.3672,759,237.3672,755,233.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="753" x2="1120" y1="233.3672" y2="233.3672"/><path d="M211,248.3672 L272,248.3672 L272,256.7188 L262,266.7188 L211,266.7188 L211,248.3672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="48.7031" style="stroke:#000000;stroke-width:1.5;" width="600.5" x="211" y="248.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="226" y="262.8623">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="93" x="287" y="261.7861">[elevador existe]</text><polygon fill="#181818" points="303,285.0703,293,289.0703,303,293.0703,299,289.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="297" x2="737" y1="289.0703" y2="289.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="391" x="309" y="284.2139">Envia erro com a mensagem: Já existe um elevador com o código X</text><polygon fill="#181818" points="1212.5,322.4219,1222.5,326.4219,1212.5,330.4219,1216.5,326.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="748" x2="1218.5" y1="326.4219" y2="326.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="755" y="321.5654">findByCodigo(elevadorDTO.edificio)</text><polygon fill="#181818" points="759,336.4219,749,340.4219,759,344.4219,755,340.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="753" x2="1228.5" y1="340.4219" y2="340.4219"/><path d="M211,355.4219 L272,355.4219 L272,363.7734 L262,373.7734 L211,373.7734 L211,355.4219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="48.7031" style="stroke:#000000;stroke-width:1.5;" width="600.5" x="211" y="355.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="226" y="369.917">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="163" x="287" y="368.8408">[edificio não existe/é inválido]</text><polygon fill="#181818" points="303,392.125,293,396.125,303,400.125,299,396.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="297" x2="737" y1="396.125" y2="396.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="422" x="309" y="391.2686">Envia erro com a mensagem: Não existe nenhum edifício com o código X</text><polygon fill="#181818" points="1306.5,429.4766,1316.5,433.4766,1306.5,437.4766,1310.5,433.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="748" x2="1312.5" y1="433.4766" y2="433.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="755" y="428.6201">findByEdificio(elevadorDTO.edificio)</text><polygon fill="#181818" points="759,443.4766,749,447.4766,759,451.4766,755,447.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="753" x2="1322.5" y1="447.4766" y2="447.4766"/><path d="M211,462.4766 L272,462.4766 L272,470.8281 L262,480.8281 L211,480.8281 L211,462.4766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="48.7031" style="stroke:#000000;stroke-width:1.5;" width="600.5" x="211" y="462.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="226" y="476.9717">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="130" x="287" y="475.8955">[edifício não tem pisos]</text><polygon fill="#181818" points="303,499.1797,293,503.1797,303,507.1797,299,503.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="297" x2="737" y1="503.1797" y2="503.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="328" x="309" y="498.3232">Envia erro com a mensagem: O edificio X não tem pisos.</text><path d="M674.5,525.1797 L747.5,525.1797 L747.5,533.5313 L737.5,543.5313 L674.5,543.5313 L674.5,525.1797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:1.5;" width="385.5" x="674.5" y="525.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="689.5" y="539.6748">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="264" x="762.5" y="538.5986">[todos os pisos de elevadorDTO.pisosServidos]</text><line style="stroke:#181818;stroke-width:1.0;" x1="748" x2="790" y1="565.8828" y2="565.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="790" x2="790" y1="565.8828" y2="578.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="749" x2="790" y1="578.8828" y2="578.8828"/><polygon fill="#181818" points="759,574.8828,749,578.8828,759,582.8828,755,578.8828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="293" x="755" y="561.0264">verifica se o piso pertence ao elevadorDTO.edificio.</text><path d="M211,600.8828 L272,600.8828 L272,609.2344 L262,619.2344 L211,619.2344 L211,600.8828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="48.7031" style="stroke:#000000;stroke-width:1.5;" width="600.5" x="211" y="600.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="226" y="615.3779">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="240" x="287" y="614.3018">[um qualquer piso não pertence ao edificio]</text><polygon fill="#181818" points="303,637.5859,293,641.5859,303,645.5859,299,641.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="297" x2="737" y1="641.5859" y2="641.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="380" x="309" y="636.7295">Envia erro com a mensagem: O piso X não pertence ao edificio Y.</text><polygon fill="#181818" points="1780,674.9375,1790,678.9375,1780,682.9375,1784,678.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="748" x2="1786" y1="678.9375" y2="678.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="755" y="674.0811">elevador = create(elevadorDTO)</text><polygon fill="#181818" points="759,688.9375,749,692.9375,759,696.9375,755,692.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="753" x2="1796" y1="692.9375" y2="692.9375"/><polygon fill="#181818" points="1104,719.2891,1114,723.2891,1104,727.2891,1108,723.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="748" x2="1110" y1="723.2891" y2="723.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="755" y="718.4326">save(elevador)</text><polygon fill="#181818" points="1674,749.6406,1684,753.6406,1674,757.6406,1678,753.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1126" x2="1680" y1="753.6406" y2="753.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="1133" y="748.7842">injeta o schema do elevador</text><polygon fill="#181818" points="1137,763.6406,1127,767.6406,1137,771.6406,1133,767.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1131" x2="1690" y1="767.6406" y2="767.6406"/><polygon fill="#181818" points="1413,793.9922,1423,797.9922,1413,801.9922,1417,797.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1126" x2="1419" y1="797.9922" y2="797.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="1133" y="793.1357">toPersistence(elevador)</text><polygon fill="#181818" points="1137,807.9922,1127,811.9922,1137,815.9922,1133,811.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1131" x2="1429" y1="811.9922" y2="811.9922"/><polygon fill="#181818" points="1542.5,838.3438,1552.5,842.3438,1542.5,846.3438,1546.5,842.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1126" x2="1548.5" y1="842.3438" y2="842.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="1133" y="837.4873">create(elevadorCreated)</text><polygon fill="#181818" points="1137,852.3438,1127,856.3438,1137,860.3438,1133,856.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1131" x2="1558.5" y1="856.3438" y2="856.3438"/><polygon fill="#181818" points="1413,882.6953,1423,886.6953,1413,890.6953,1417,886.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1126" x2="1419" y1="886.6953" y2="886.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="1133" y="881.8389">toDomain(elevadorCreated)</text><polygon fill="#181818" points="1137,896.6953,1127,900.6953,1137,904.6953,1133,900.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1131" x2="1429" y1="900.6953" y2="900.6953"/><polygon fill="#181818" points="759,910.6953,749,914.6953,759,918.6953,755,914.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="753" x2="1120" y1="914.6953" y2="914.6953"/><polygon fill="#181818" points="1413,941.0469,1423,945.0469,1413,949.0469,1417,945.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="748" x2="1419" y1="945.0469" y2="945.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="755" y="940.1904">toDTO(elevador)</text><polygon fill="#181818" points="759,955.0469,749,959.0469,759,963.0469,755,959.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="753" x2="1429" y1="959.0469" y2="959.0469"/><polygon fill="#181818" points="303,969.0469,293,973.0469,303,977.0469,299,973.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="297" x2="742" y1="973.0469" y2="973.0469"/><path d="M10,988.0469 L71,988.0469 L71,996.3984 L61,1006.3984 L10,1006.3984 L10,988.0469 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="94.8906" style="stroke:#000000;stroke-width:1.5;" width="353" x="10" y="988.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="1002.542">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="102" x="86" y="1001.4658">[caso de sucesso]</text><polygon fill="#181818" points="62,1024.75,52,1028.75,62,1032.75,58,1028.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56" x2="281" y1="1028.75" y2="1028.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="68" y="1023.8936">Envia um código 201 (OK)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="363" y1="1037.75" y2="1037.75"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="112" x="15" y="1049.1689">[caso de insucesso]</text><polygon fill="#181818" points="62,1070.9375,52,1074.9375,62,1078.9375,58,1074.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56" x2="281" y1="1074.9375" y2="1074.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="68" y="1070.0811">Envia um código 403 (NOT FOUND)</text><!--MD5=[01b1420da5e4293153eb1a6ae55d7480]
@startuml sd

participant Route as route
participant ElevadorController as ctrl
participant ElevadorService as svc
participant ElevadorRepo as repoEle
participant EdificioRepo as repoEdi
participant PisoRepo as repoPis
participant ElevadorMapper as mapper
participant ElevadorSchema as schema
participant ConfigurationFile as conf
participant Elevador as model

activate route
route -> ctrl : /createElevador
activate ctrl
ctrl -> conf : injeta o serviço do elevador
activate conf
conf - -> ctrl
deactivate conf
ctrl -> svc : createElevador(IElevadorDTO)
activate svc
svc -> conf : injeta o repositório do elevador
activate conf
conf - -> svc
deactivate conf
svc -> repoEle : findByNumeroIdentificativo(elevadorDTO.numeroIdentificativo)
activate repoEle
repoEle - -> svc
deactivate repoEle
alt elevador existe
    svc -> ctrl : Envia erro com a mensagem: Já existe um elevador com o código X
end
svc -> repoEdi : findByCodigo(elevadorDTO.edificio)
activate repoEdi
repoEdi - -> svc
deactivate repoEdi
alt edificio não existe/é inválido
    svc - -> ctrl : Envia erro com a mensagem: Não existe nenhum edifício com o código X
end
svc -> repoPis : findByEdificio(elevadorDTO.edificio)
activate repoPis
repoPis - -> svc
deactivate repoPis
alt edifício não tem pisos
    svc - -> ctrl : Envia erro com a mensagem: O edificio X não tem pisos.
end
loop todos os pisos de elevadorDTO.pisosServidos
    svc -> svc : verifica se o piso pertence ao elevadorDTO.edificio.
end
alt um qualquer piso não pertence ao edificio
    svc - -> ctrl : Envia erro com a mensagem: O piso X não pertence ao edificio Y.
end
svc -> model : elevador = create(elevadorDTO)
activate model
model - -> svc
deactivate model
svc -> repoEle : save(elevador)
activate repoEle
repoEle -> conf : injeta o schema do elevador
activate conf
conf - -> repoEle
deactivate conf
repoEle -> mapper : toPersistence(elevador)
activate mapper
mapper - -> repoEle
deactivate mapper
repoEle -> schema : create(elevadorCreated)
activate schema
schema - -> repoEle
deactivate schema
repoEle -> mapper : toDomain(elevadorCreated)
activate mapper
mapper - -> repoEle
deactivate mapper
repoEle - -> svc
deactivate repoEle
svc -> mapper : toDTO(elevador)
activate mapper
mapper - -> svc
deactivate mapper
svc - -> ctrl
deactivate svc
alt caso de sucesso
    ctrl - -> route : Envia um código 201 (OK)
else caso de insucesso
    ctrl - -> route : Envia um código 403 (NOT FOUND)
end
deactivate ctrl
deactivate route



@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>